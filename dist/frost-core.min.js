!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):Object.assign(e,t(e))}(window,function(e){class t{constructor(t){this.context=t||e.document,this.animating=!1,this.animations=new Map,this.queues=new WeakMap,this.nodeData=new WeakMap,this.nodeEvents=new WeakMap,this.nodeStyles=new WeakMap}query(e,n=!0){return t.isFunction(e)?this.ready(e):n?new s(e):new r(e)}ready(t){"complete"===this.context.readyState?t():this.addEvent(e,"DOMContentLoaded",t)}}Object.assign(t.prototype,{animate(e,s,r=1e3){const n=Date.now(),i=[];return t.nodeArray(e).forEach(e=>{this.animations.has(e)||this.animations.set(e,[]);const o=new Promise((i,o)=>{this.animations.get(e).push((a=!1,h=!1)=>{if(!core.contains(this.context,e)||a&&!h)return o(e),!1;const c=h?1:t.clamp((Date.now()-n)/r);return s(e,c),1!==c||(i(e),!1)})});i.push(o)}),i.length&&!this.animating&&(this.animating=!0,this._animationFrame()),Promise.all(i)},stop(e,s=!0){t.nodeArray(e).forEach(e=>{if(!this.animations.has(e))return;this.animations.get(e).forEach(e=>e(!0,s)),this.animations.delete(e)})},_animationFrame(){const t=[];this.animations.forEach((e,s)=>{const r=[];e.forEach((e,t)=>{e()||r.push(t)}),r.length&&((e=e.filter((e,t)=>!r.includes(t))).length||t.push(s))}),t.forEach(e=>this.animations.delete(e)),this.animations.size?e.requestAnimationFrame(()=>this._animationFrame()):this.animating=!1}}),Object.assign(t.prototype,{dropIn(e,t=1e3){return this.slideIn(e,"top",t)},dropOut(e,t=1e3){return this.slideOut(e,"top",t)},fadeIn(e,t=1e3){return this.animate(e,(e,t)=>this.setStyle(e,"opacity",t<1?t:""),t)},fadeOut(e,t=1e3){return this.animate(e,(e,t)=>this.setStyle(e,"opacity",t<1?1-t:""),t)},rotateIn(e,t=0,s=1,r=!1,n=1e3){return this.animate(e,(e,n)=>{if(1===n)return this.setStyle(e,"transform","");let i=90-90*n;r&&(i*=-1),this.setStyle(e,"transform","rotate3d("+t+", "+s+", 0, "+i+"deg)")},n)},rotateOut(e,t=0,s=1,r=!1,n=1e3){return this.animate(e,(e,n)=>{if(1===n)return this.setStyle(e,"transform","");let i=90*n;r&&(i*=-1),this.setStyle(e,"transform","rotate3d("+t+", "+s+", 0, "+i+"deg)")},n)},slideIn(e,s="bottom",r=1e3){return this.animate(e,(e,r)=>{if(1===r)return this.setStyle(e,"transform","");const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=this.height(e);let s=Math.round(t-t*r);"top"===n&&(s*=-1),this.setStyle(e,"transform","translateY("+s+"px)")}else{const t=this.width(e);let s=Math.round(t-t*r);"left"===n&&(s*=-1),this.setStyle(e,"transform","translateX("+s+"px)")}},r)},slideOut(e,s="bottom",r=1e3){return this.animate(e,(e,r)=>{if(1===r)return this.setStyle(e,"transform","");const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=this.height(e);let s=Math.round(t*r);"top"===n&&(s*=-1),this.setStyle(e,"transform","translateY("+s+"px)")}else{const t=this.width(e);let s=Math.round(t*r);"left"===n&&(s*=-1),this.setStyle(e,"transform","translateX("+s+"px)")}},r)},squeezeIn(e,s="bottom",r=1e3){const n=this.create("div");this.setStyle(n,"overflow","hidden"),this.setStyle(n,"position","relative");const i=[];return t.nodeArray(e).forEach(e=>{this.wrap(e,n);const o=this.parent(e);i.push(this.animate(e,(e,r)=>{if(1===r)return this.before(o,this.contents(o)),void this.remove(o);const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=Math.round(this.height(e,!0)),s=Math.round(this.width(e,!0,!0,!0));this.setStyle(o,"width",s);const i=Math.round(t*r);this.setStyle(o,"height",i),"top"===n&&this.setStyle(o,"transform","translateY("+(t-i)+"px)")}else{const t=Math.round(this.height(e,!0,!0,!0)),s=Math.round(this.width(e,!0));this.setStyle(o,"height",t);const i=Math.round(s*r);this.setStyle(o,"width",i),"left"===n&&this.setStyle(o,"transform","translateX("+(s-i)+"px)")}},r))}),Promise.all(i)},squeezeOut(e,s="bottom",r=1e3){const n=this.create("div");this.setStyle(n,"overflow","hidden"),this.setStyle(n,"position","relative");const i=[];return t.nodeArray(e).forEach(e=>{this.wrap(e,n);const o=this.parent(e);i.push(this.animate(e,(e,r)=>{if(1===r)return this.before(o,this.contents(o)),void this.remove(o);const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=Math.round(this.height(e,!0)),s=Math.round(this.width(e,!0,!0,!0));this.setStyle(o,"width",s);const i=Math.round(t-t*r);this.setStyle(o,"height",i),"top"===n&&this.setStyle(o,"transform","translateY("+(t-i)+"px)")}else{const t=Math.round(this.height(e,!0,!0,!0)),s=Math.round(this.width(e,!0));this.setStyle(o,"height",t);const i=Math.round(s-s*r);this.setStyle(o,"width",i),"left"===n&&this.setStyle(o,"transform","translateX("+(s-i)+"px)")}},r))}),Promise.all(i)}}),Object.assign(t.prototype,{queue(e,s){t.nodeArray(e).forEach(e=>{const t=!this.queues.has(e);t&&this.queues.set(e,[]),this.queues.get(e).push(s),t&&this._dequeue(e)})},clearQueue(e){t.nodeArray(e).forEach(e=>{this.queues.has(e)&&this.queues.delete(e)})},_dequeue(e){t.nodeArray(e).forEach(e=>{if(!this.queues.has(e))return;const t=this.queues.get(e).shift();t?Promise.resolve(t.bind(e)(e)).finally(()=>this._dequeue(e)):this.queues.delete(e)})}}),Object.assign(t.prototype,{getAttribute(e,s){const r=t.nodeFirst(e);if(r)return r.getAttribute(s)},setAttribute(e,s,r){t.nodeArray(e).forEach(e=>{t.isObject(s)?Object.keys(s).forEach(t=>e.setAttribute(t,s[t])):e.setAttribute(s,r)})},removeAttribute(e,s){t.nodeArray(e).forEach(e=>e.removeAttribute(s))},getDataset(e,s){const r=t.nodeFirst(e);if(r)return s?r.dataset[s]:r.dataset},setDataset(e,s,r){t.nodeArray(e).forEach(e=>{e.dataset[s]=r})},getHTML(e){return this.getProperty(e,"innerHTML")},setHTML(e,t){this.empty(e),this.setProperty(e,"innerHTML",t)},getProperty(e,s){const r=t.nodeFirst(e);if(r)return r[s]},setProperty(e,s,r){t.nodeArray(e).forEach(e=>{t.isObject(s)?Object.keys(s).forEach(t=>e[t]=s[t]):e[s]=r})},removeProperty(e,s){t.nodeArray(e).forEach(e=>{delete e[s]})},getText(e){return this.getProperty(e,"innerText")},setText(e,t){this.empty(e),this.setProperty(e,"innerText",t)},getValue(e){return this.getProperty(e,"value")},setValue(e,t){this.setProperty(e,"value",t)}}),Object.assign(t.prototype,{getData(e,s){const r=t.nodeFirst(e,!1,!0,!0);if(!r)return;if(!this.nodeData.has(r))return;const n=this.nodeData.get(r);return s?n[s]:n},setData(e,s,r){t.nodeArray(e,!1,!0,!0).forEach(e=>{this.nodeData.has(e)||this.nodeData.set(e,{}),this.getData(e)[s]=r})},removeData(e,s){t.nodeArray(e,!1,!0,!0).forEach(e=>{if(this.nodeData.has(e)){if(s){const t=this.nodeData.get(e);if(delete t[s],Object.keys(t).length)return}this.nodeData.delete(e)}})}}),Object.assign(t.prototype,{center(e,t){const s=this.rect(e,t);if(s)return{x:s.left+s.width/2,y:s.top+s.height/2}},position(e,s){const r=t.nodeFirst(e);if(r)return this.forceShow(r,e=>{const t={x:e.offsetLeft,y:e.offsetTop};if(s){const s=this.position(this.offsetParent(e),!0);s&&(t.x+=s.x,t.y+=s.y)}return t})},rect(s,r){const n=t.nodeFirst(s);if(n)return this.forceShow(n,t=>{const s=t.getBoundingClientRect();return r&&(s.x+=this.scrollX(e),s.y+=this.scrollY(e)),s})},constrain(e,s){const r=this.rect(s);r&&t.nodeArray(e).forEach(e=>{const t=this.rect(e);t.height>r.height&&this.setStyle(e,"height",r.height+"px"),t.width>r.width&&this.setStyle(e,"width",r.width+"px"),t.top<r.top&&this.setStyle(e,"top",r.top),t.right>r.right&&this.setStyle(e,"left",r.right-t.width),t.bottom>r.bottom&&this.setStyle(e,"top",r.bottom-t.height),t.left<r.left&&this.setStyle(e,"left",r.left)})},distTo(e,s,r,n){const i=this.center(e,n);if(i)return t.dist(i.x,i.y,s,r)},distToNode(e,t){const s=this.center(t);if(s)return this.distTo(e,s.x,s.y)},nearestTo(e,s,r,n){let i=null,o=Number.MAX_VALUE;return t.nodeArray(e).forEach(e=>{const t=this.distTo(e,s,r,n);t&&t<o&&(o=t,i=e)}),i},nearestToNode(e,t){const s=this.center(t);if(s)return this.nearestTo(e,s.x,s.y)},percentX(e,s,r){const n=this.rect(e,r);if(n)return t.clampPercent((s-n.left)/n.width*100)},percentY(e,s,r){const n=this.rect(e,r);if(n)return t.clampPercent((s-n.top)/n.height*100)}}),Object.assign(t.prototype,{setScroll(e,s,r){t.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(s,r):t.isDocument(e)?(e.scrollingElement.scrollLeft=s,e.scrollingElement.scrollTop=r):t.isElement(e)&&(e.scrollLeft=s,e.scrollTop=r)})},setScrollX(e,s){t.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(s,e.scrollY):t.isDocument(e)?e.scrollingElement.scrollLeft=s:t.isElement(e)&&(e.scrollLeft=s)})},setScrollY(e,s){t.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(e.scrollX,s):t.isDocument(e)?e.scrollingElement.scrollTop=s:t.isElement(e)&&(e.scrollTop=s)})},getScrollX(e){let s=t.nodeFirst(e,!0,!0,!0);if(s)return t.isWindow(s)?s.scrollX:(t.isDocument(s)&&(s=s.scrollingElement),s.scrollLeft)},getScrollY(e){let s=t.nodeFirst(e,!0,!0,!0);if(s)return t.isWindow(s)?s.scrollY:(t.isDocument(s)&&(s=s.scrollingElement),s.scrollTop)}}),Object.assign(t.prototype,{height(e,s,r,n){let i=t.nodeFirst(e,!0,!0,!0);if(i)return t.isWindow(i)?s?i.outerHeight:i.innerHeight:(t.isDocument(i)&&(i=i.documentElement),this.forceShow(i,e=>{let t=e.clientHeight;return s||(t-=parseInt(this.css(e,"padding-top"))+parseInt(this.css(e,"padding-bottom"))),r&&(t+=parseInt(this.css(e,"border-top-width"))+parseInt(this.css(e,"border-bottom-width"))),n&&(t+=parseInt(this.css(e,"margin-top"))+parseInt(this.css(e,"margin-bottom"))),t}))},width(e,s,r,n){let i=t.nodeFirst(e,!0,!0,!0);if(i)return t.isWindow(i)?s?i.outerWidth:i.innerWidth:(t.isDocument(i)&&(i=i.documentElement),this.forceShow(i,e=>{let t=e.clientWidth;return s||(t-=parseInt(this.css(e,"padding-left"))+parseInt(this.css(e,"padding-right"))),r&&(t+=parseInt(this.css(e,"border-left-width"))+parseInt(this.css(e,"border-right-width"))),n&&(t+=parseInt(this.css(e,"margin-left"))+parseInt(this.css(e,"margin-right"))),t}))}}),Object.assign(t.prototype,{addClass(e,...s){(s=t.parseClasses(s)).length&&t.nodeArray(e).forEach(e=>e.classList.add(...s))},removeClass(e,...s){(s=t.parseClasses(s)).length&&t.nodeArray(e).forEach(e=>e.classList.remove(...s))},toggleClass(e,...s){(s=t.parseClasses(s)).length&&t.nodeArray(e).forEach(e=>s.forEach(t=>e.classList.toggle(t)))},getStyle(e,s){const r=t.nodeFirst(e);if(r)return s=t.snakeCase(s),r.style.getPropertyValue(s)},setStyle(e,s,r,n){t.isObject(s)?Object.keys(s).forEach(t=>this.setStyle(e,t,s[t])):(s=t.snakeCase(s),(r=""+r)&&t.isNumeric(r)&&!t.cssNumberProperties.includes(s)&&(r+="px"),t.nodeArray(e).forEach(e=>e.style.setProperty(s,r,n?"important":"")))},css(s,r){const n=t.nodeFirst(s);if(n)return e.getComputedStyle(n)[r]},hide(e){this.setStyle(e,"display","none")},show(e){this.setStyle(e,"display","")},toggle(e){t.nodeArray(e).forEach(e=>"none"===this.getStyle(e,"display")?this.show(e):this.hide(e))}}),Object.assign(t.prototype,{addEvent(e,s,r,n,i=!1){t.isFunction(r)&&(t.isBoolean(n)&&(i=n),n=r,r=!1);const o=t.parseEvents(s);t.nodeArray(e,!0,!0,!0).forEach(e=>{let a=n;i&&(a=this.selfDestructFactory(e,s,a)),r&&(a=this.delegateFactory(e,r,a)),this.nodeEvents.has(e)||this.nodeEvents.set(e,{});const h=this.nodeEvents.get(e),c={delegate:r,callback:n,realCallback:a};o.forEach(s=>{const r=t.parseEvent(s);if(c.event=s,c.realEvent=r,h[r]){if(h[r].includes(c))return}else h[r]=[];e.addEventListener(r,a),h[r].push(c)})})},addEventOnce(e,t,s,r){return this.addEvent(e,t,s,r,!0)},removeEvent(e,s,r,n){r&&t.isFunction(r)&&(n=r,r=!1);let i=!!s&&t.parseEvents(s);t.nodeArray(e,!0,!0,!0).forEach(e=>{if(!this.nodeEvents.has(e))return;const s=this.nodeEvents.get(e);i||(i=Object.keys(s)),i.forEach(i=>{const o=t.parseEvent(i);if(!s[o])return;let a=s[o];const h=[];a.forEach((t,s)=>{if(o===i){if(o!==t.realEvent)return}else if(i!==t.event)return;if(r){if(r!==t.delegate||n&&n!==t.callback)return}else if(n&&n!==t.realCallback)return;e.removeEventListener(t.realEvent,t.realCallback),h.push(s)}),(a=a.filter((e,t)=>!h.includes(t))).length||delete s[o]}),Object.keys(s).length||this.nodeEvents.delete(e)})},triggerEvent(e,s,r){t.nodeArray(e,!0,!0,!0).forEach(e=>t.parseEvents(s).forEach(s=>{const n=t.parseEvent(s),i=new Event(n);r&&Object.assign(i,r),e.dispatchEvent(i)}))},cloneEvents(e,s){t.nodeArray(e,!0,!0,!0).forEach(e=>{this.nodeEvents.has(e)&&this.nodeEvents.get(e).forEach(e=>{this.addEvent(s,e.event,e.delegate,e.callback)})})},blur(e){const s=t.nodeFirst(e);s&&s.blur()},click(e){const s=t.nodeFirst(e);s&&s.click()},focus(e){const s=t.nodeFirst(e);s&&s.focus()}}),Object.assign(t.prototype,{create(e){return this.context.createElement(e)},clone(e,s=!0,r=!1){const n=[];return t.nodeArray(e,!1).forEach(e=>{const t=e.cloneNode(s);if(r&&(this.cloneEvents(e,t),this.cloneData(e,t),s)){const s=this.find(e,"*");this.find(t,"*").forEach((e,t)=>{this.cloneEvents(s[t],e),this.cloneData(s[t],e)})}n.push(t)}),n},detach(e){t.nodeArray(e,!1).forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)})},empty(e){this.remove(this.find(e,"*"),!1),this.setProperty(e,"innerHTML","")},remove(e,t=!0){t&&this.empty(e),this.clearQueue(e),this.stop(e),this.removeEvent(e),this.removeData(e),this.detach(e)},replaceAll(e,t){this.replaceWith(t,e)},replaceWith(e,s){s=this.parseQuery(s,!1),t.nodeArray(e,!1).forEach(e=>{this.before(e,this.clone(s,!0)),this.remove(e)})}}),Object.assign(t.prototype,{after(e,s){const r=t.nodeFirst(e,!1);r&&r.parentNode&&this.parseQuery(s).reverse().forEach(e=>r.parentNode.insertBefore(e,r.nextSibling))},insertAfter(e,t){this.after(t,e)},before(e,s){const r=t.nodeFirst(e,!1);r&&r.parentNode&&this.parseQuery(s,!1).forEach(e=>r.parentNode.insertBefore(e,r))},insertBefore(e,t){this.before(t,e)},append(e,s){const r=t.nodeFirst(e);r&&this.parseQuery(s,!1).forEach(e=>r.insertBefore(e,null))},appendTo(e,t){this.append(t,e)},prepend(e,s){const r=t.nodeFirst(e);r&&this.parseQuery(s,!1).reverse().forEach(e=>r.insertBefore(e,r.firstChild))},prependTo(e,t){this.prepend(t,e)}}),Object.assign(t.prototype,{unwrap(e,s){t.nodeArray(e,!1).forEach(e=>{const t=this.parent(e,s);t&&(this.before(t,this.contents(t)),this.remove(t))})},wrap(e,s){s=this.parseQuery(s),t.nodeArray(e,!1).forEach(e=>{const t=this.clone(s,!0);this.before(e,t),this.append(this.filterOne(this.find(t,"*"),e=>!this.child(e))||t,e)})},wrapAll(e,t){t=this.parseQuery(t);const s=this.clone(t,!0);this.before(e,s),this.append(this.filterOne(this.find(s,"*"),e=>!this.child(e))||s,e)},wrapInner(e,s){s=this.parseQuery(s),t.nodeArray(e,!1).forEach(e=>{const t=this.clone(s,!0);this.append(e,t),this.append(this.filterOne(this.find(t,"*"),e=>!this.child(e))||t,this.contents(e))})}}),Object.assign(t.prototype,{filter:(e,s)=>(s=t.parseFilter(s),t.nodeArray(e).filter((e,t)=>!s||s(e,t))),filterOne:(e,s)=>(s=t.parseFilter(s),t.nodeArray(e).find((e,t)=>!s||s(e,t))||null),not:(e,s)=>(s=t.parseFilter(s),t.nodeArray(e).filter((e,t)=>s&&!s(e,t))),has:(e,s)=>(s=t.parseFilterContains(s),!!t.nodeArray(e,!0,!0).filter(e=>!s||s(e))),hidden(e){return t.nodeArray(e).filter(e=>this.isHidden(e))},visible(e){return t.nodeArray(e).filter(e=>this.isVisible(e))}}),Object.assign(t.prototype,{find(e,s){s||(s=e,e=this.context);const[r,n]=t.parseSelector(s);return"#"===r?this.findById(e,n):"."===r?this.findByClass(e,n):r?this.findByTag(e,n):t.isSelectorComplex(s)?this._findByCustom(e,s):this.findSelector(e,s)},findOne(e,s){s||(s=e,e=this.context);const[r,n]=t.parseSelector(s);return"#"===r?this.findOneById(e,n):"."===r?this.findOneByClass(e,n):r?this.findOneByTag(e,n):t.isSelectorComplex(s)?this._findOneByCustom(e,s):this.findOneSelector(e,s)},findByClass(e,s){s||(s=e,e=this.context);const r=new Set;return t.nodeArray(e,!0,!0).forEach(e=>Array.from(e.getElementsByClassName(s)).forEach(e=>r.add(e))),t.sortNodes([...r])},findOneByClass(e,t){return this.findByClass(e,t).shift()||null},findById(e,t){return this.findSelector(e,"#"+t)},findOneById(e,s){s||(s=e,e=this.context);const r=new Set;return t.nodeArray(e,!0,!0).forEach(e=>r.add(e.getElementById(s))),t.sortNodes([...r].filter(e=>!!e)).shift()||null},findByTag(e,s){s||(s=e,e=this.context);const r=new Set;return t.nodeArray(e,!0,!0).forEach(e=>Array.from(e.getElementsByTagName(s)).forEach(e=>r.add(e))),t.sortNodes([...r])},findOneByTag(e,t){return this.findByTag(e,t).shift()||null},findSelector(e,s){const r=new Set;return t.nodeArray(e,!0,!0).forEach(e=>Array.from(e.querySelectorAll(s)).forEach(e=>r.add(e))),t.sortNodes([...r])},findOneSelector(e,s){const r=new Set;return t.nodeArray(e,!0,!0).forEach(e=>r.add(e.querySelector(s))),t.sortNodes([...r].filter(e=>!!e)).shift()||null},_findByCustom(e,s){const r=new Set;return t.parseSelectors(s).forEach(s=>{const[n,i]=s;let o=[];if("#"===n)o=this.findById(e,i);else if("."===n)o=this.findByClass(e,i);else if(!0===n)o=this.findByTag(e,i);else if(n){if([">","+","~"].includes(n)){const[s,r]=t.parseSubQuery(i);">"===n?o=this.children(e,s):"+"===n?o=this.next(e,s):"~"===n&&(o=this.nextAll(e,s)),o.length&&r&&(o=this.find(o,r))}}else o=this.findSelector(e,i);o.forEach(e=>r.add(e))}),t.sortNodes([...r])},_findOneByCustom(e,s){const r=new Set;return t.parseSelectors(s).forEach(s=>{const[n,i]=s;let o;if("#"===n)o=this.findOneById(e,i);else if("."===n)o=this.findOneByClass(e,i);else if(!0===n)o=this.findOneByTag(e,i);else if(n){if([">","+","~"].includes(n)){const[s,a]=t.parseSubQuery(i);">"===n?o=this.child(e,s):"+"===n?o=this.next(e,s):"~"===n&&(o=this.nextAll(e,s,!1,!0)),r.length&&a&&(o=this.findOne(o,a)),o=t.nodeArray(o).shift()}}else o=this.findOneSelector(e,i);o&&r.add(o)}),t.sortNodes([...r]).shift()||null}}),Object.assign(t.prototype,{child(e,t){return this.children(e,t,!0)},children(e,s,r=!1,n=!0){s=t.parseFilter(s);const i=new Set;t.nodeArray(e).forEach(e=>t.nodeArray(e.childNodes,n).forEach(e=>{if(!s||s(e))return i.add(e),!r}));const o=t.sortNodes([...i]);return r&&t.isNode(e)?o.shift()||null:o},contents(e){return this.children(e,!1,!1,!1)},closest(e,t,s){return this.parents(e,t,s,!0)},parent(e,s){s=t.parseFilter(s);const r=new Set;t.nodeArray(e,!1).forEach(e=>{e.parentNode&&(s&&!s(e.parentNode)||r.add(e.parentNode))});const n=t.sortNodes([...r]);return t.isNode(e)?n.shift()||null:n},parents(e,s,r,n=!1){s=t.parseFilter(s),r=t.parseFilter(r);const i=new Set;t.nodeArray(e,!1).forEach(e=>{for(;(e=e.parentNode)&&(!r||!r(e));)if((!s||s(e))&&(i.add(e),n))return});const o=t.sortNodes([...i]);return n&&t.isNode(e)?o.shift()||null:o},offsetParent(e){return this.forceShow(e,e=>e.offsetParent)},next(e,s){s=t.parseFilter(s);const r=new Set;t.nodeArray(e,!1).forEach(e=>{e.nextSibling&&(s&&!s(e.nextSibling)||r.add(e.nextSibling))});const n=t.sortNodes([...r]);return t.isNode(e)?n.shift()||null:n},nextAll(e,s,r=!1,n=!1){s=t.parseFilter(s),r=t.parseFilter(r);const i=new Set;return t.nodeArray(e,!1).forEach(e=>{for(;(e=e.nextSibling)&&(!r||!r(e))&&(s&&!s(e)||(i.add(e),!n)););}),t.sortNodes([...i])},prev(e,s){s=t.parseFilter(s);const r=new Set;t.nodeArray(e,!1).forEach(e=>{e.previousSibling&&(s&&!s(e.previousSibling)||r.add(e.previousSibling))});const n=t.sortNodes([...r]);return t.isNode(e)?n.shift()||null:n},prevAll(e,s,r=!1,n=!1){s=t.parseFilter(s),r=t.parseFilter(r);const i=new Set;return t.nodeArray(e,!1).forEach(e=>{for(;(e=e.previousSibling)&&(!r||!r(e))&&(s&&!s(e)||(i.add(e),!n)););}),t.sortNodes([...i])},siblings(e,s,r=!0){s=t.parseFilter(s);const n=new Set;return t.nodeArray(e,!1).forEach(e=>{e.parentNode&&t.nodeArray(e.parentNode.childNodes,r).forEach(t=>{t.isSameNode(e)||s&&!s(t)||n.add(t)})}),t.sortNodes([...n])}}),Object.assign(t.prototype,{hasAttribute:(e,s)=>!!t.nodeArray(e).find(e=>e.hasAttribute(s)),hasClass:(e,...s)=>(s=t.parseClasses(s),!!t.nodeArray(e).find(e=>s.find(t=>e.classList.contains(t)))),hasData(e,s){return!!t.nodeArray(e,!1,!0,!0).find(e=>this.nodeData.has(e)&&(!s||this.nodeData.get(e).hasOwnProperty(s)))},hasProperty:(e,s)=>!!t.nodeArray(e).find(e=>e.hasOwnProperty(s)),contains:(e,s)=>(s=t.parseFilterContains(s),!!t.nodeArray(e,!0,!0).find(e=>!s||s(e))),is:(e,s)=>(s=t.parseFilter(s),!!t.nodeArray(e).find(e=>!s||s(e))),isFixed(e){return!!t.nodeArray(e).find(e=>"fixed"===this.css(e,"position")||this.closest(e,e=>"fixed"===this.css(e,"position")))},isHidden:e=>!!t.nodeArray(e,!1,!0).find(e=>!t.isDocument(e)&&t.isNode(e)&&!e.offsetParent),isVisible:e=>!!t.nodeArray(e,!1,!0,!0).find(e=>t.isWindow(e)||t.isDocument(e)||t.isNode(e)&&e.offsetParent)}),Object.assign(t.prototype,{forceShow(e,s){const r=t.nodeFirst(e,!0,!0,!0);if(!r)return;if(this.isVisible(r))return s(r);const n=[],i=[];"none"===this.css(r,"display")&&(n.push(r),i.push(this.getStyle(r,"display"))),this.parents(r,e=>"none"===this.css(e,"display")).forEach(e=>{n.push(e),i.push(this.getStyle(e,"display"))}),this.setStyle(n,"display","initial",!0);const o=s(r);return n.forEach((e,t)=>this.setStyle(e,"display",i[t])),o},index:(e,s)=>(s=t.parseFilter(s),t.nodeArray(e).findIndex(e=>!s||s(e))),indexOf(e){const s=t.nodeFirst(e);if(s)return this.children(this.parent(s)).indexOf(s)},select(s){const r=t.nodeFirst(s,!1);if(r&&r.select)return r.select();const n=e.getSelection();if(n.rangeCount>0&&n.removeAllRanges(),!r)return;const i=this.context.createRange();i.selectNode(r),n.addRange(i)},selectAll(s){const r=e.getSelection();r.rangeCount>0&&r.removeAllRanges(),t.nodeArray(s,!1).forEach(e=>{const t=this.context.createRange();t.selectNode(e),r.addRange(t)})},serialize(e){return t.parseParams(this.serializeObject(e))},serializeArray(e){const t=this.serializeObject(e);return Object.keys(t).map(e=>({name:e,value:t[e]}))},serializeObject(e){return t.nodeArray(e).reduce((e,t)=>{if(t.matches("form"))return void Object.assign(e,this.serializeObject(core.find(t,"input, select, textarea")));if(t.matches("[disabled], input[type=submit], input[type=reset], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return;const s=core.getAttribute(t,"name"),r=core.getValue(t);"[]"===s.substring(-2)?(e[s]||(e[s]=[]),e[s].push(r)):e[s]=r},{})}}),Object.assign(t,{flattenArray(e){return e.reduce((e,t)=>Array.isArray(t)?e.concat(...this.flattenArray(t)):e.concat(t),[])},uniqueArray:e=>[...new Set(e)]}),Object.assign(t,{clamp:(e,t=0,s=1)=>Math.max(t,Math.min(s,e)),clampPercent(e){return this.clamp(e,0,100)},dist(e,t,s,r){return this.len(e-s,t-r)},len:(e,t)=>Math.hypot(e,t),lerp:(e,t,s)=>e*(1-s)+t*s,map:(e,t,s,r,n)=>(e-t)*(n-r)/(s-t)+r,toStep:(e,t)=>Math.round(e/t)*t,linearPercent(e,t,s){return t===s?0:this.clampPercent(100*(e-t)/(s-t))},linearValue(e,t,s){return this.clamp(t+e/100*(s-t),t,s)},logPercent(e,t,s){return t===s?0:(t=t?Math.log(t):0,this.clampPercent(100*((e?Math.log(e):0)-t)/(Math.log(s)-t)))},logValue(e,t,s){return t=t?Math.log(t):0,this.clamp(Math.exp(t+(Math.log(s)-t)*e/100),t,s)}}),Object.assign(t,{makeArray(e){return e?Array.isArray(e)?e:this.isNodeList(e)||this.isElementList(e)?Array.from(e):this.isQuerySet(e)?e.get():[e]:[]},nodeArray(e,t=!0,s=!1,r=!1){return this.makeArray(e).filter(this.nodeFilterFactory(t,s,r))},nodeFilterFactory(e=!0,s=!1,r=!1){return n=>!e&&this.isNode(n)||e&&this.isElement(n)||s&&this.isDocument(n)||r&&t.isWindow(n)},nodeFirst(e,t=!0,s=!1,r=!1){return this.makeArray(e).find(this.nodeFilterFactory(t,s,r))},sortNodes(e){return this.nodeArray(e,!1).sort((e,t)=>{if(e.isSameNode(t))return 0;const s=e.compareDocumentPosition(t);return s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS?1:0})}}),Object.assign(t,{parseClasses(e){return this.uniqueArray(this.flattenArray(e).reduce((e,t)=>e.concat(...t.split(" ")),[]).filter(e=>e))},parseEvent:e=>e.split(".").shift(),parseEvents:e=>e.split(" "),parseFilter(e){return!!e&&(this.isFunction(e)?e:this.isString(e)?t=>t.matches(e):this.isNode(e)?t=>t.isSameNode(e):!!(e=this.nodeArray(e)).length&&(t=>e.includes(t)))},parseFilterContains(e){return!!e&&(this.isFunction(e)?e:this.isString(e)?t=>t.findOne(e):this.isNode(e)?t=>t.contains(e):!!(e=t.nodeArray(e)).length&&(t=>e.find(e=>t.contains(e))))},parseParams(e){let t=[];return Array.isArray(e)?t=e.map(e=>this.parseParam(e.name,e.value)):this.isObject(e)&&(t=Object.keys(e).map(t=>this.parseParam(t,e[t]))),this.flattenArray(t).map(encodeURI).join("&")},parseParam(e,t){return Array.isArray(t)?t.map(t=>this.parseParam(e,t)):this.isObject(t)?Object.keys(t).map(s=>this.parseParam(e+"["+s+"]",t[s])):e+"="+t},parseSelector(e,t=!0){const s=e.match(this.fastRegex);if(s)return s.slice(1);if(!t){const t=e.match(this.specialRegex);if(t)return t.slice(1)}return[!1,e]},parseSelectors(e){return Array.isArray(e)||(e=e.split(this.splitRegex).filter(e=>e)),e.map(e=>this.parseSelector(e.trim(),!1))},parseSubQuery(e){return e.match(this.subRegex).slice(1)}}),Object.assign(t,{camelCase:e=>""+e.replace(/(\-[a-z])/g,e=>e.toUpperCase()).replace("-",""),snakeCase:e=>""+e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())}),Object.assign(t,{isArray:e=>Array.isArray(e),isBoolean:e=>e===!!e,isDocument:e=>e instanceof Document,isElement:e=>e instanceof HTMLElement,isElementList:e=>e instanceof HTMLCollection,isFunction:e=>"function"==typeof e,isNode:e=>e instanceof Node,isNodeList:e=>e instanceof NodeList,isNumeric:e=>!isNaN(parseFloat(e))&&isFinite(e),isObject:e=>e instanceof Object,isQuerySet:e=>e instanceof s,isSelectorComplex(e){return!!this.parseSelectors(e).find(e=>[">","+","~"].includes(e[0]))},isString:e=>e===""+e,isWindow:e=>e instanceof Window}),Object.assign(t.prototype,{ajax(s,r=null,n="GET"){t.isObject(s)?(n=r||n,r=s):(r=r||{}).url=s;const i={...t.ajaxDefaults,...r};return i.method||(i.method=n),i.url||(i.url=e.location),i.cache&&(i.url+=(i.url.indexOf("?")<0?"?":"&")+Date.now()),i.contentType&&!i.headers["Content-Type"]&&(i.headers["Content-Type"]=i.contentType),i.headers["X-Requested-With"]||(i.headers["X-Requested-With"]="XMLHttpRequest"),new Promise((e,s)=>{const r=new XMLHttpRequest;r.open(i.method,i.url,!0),Object.keys(i.headers).forEach(e=>r.setRequestHeader(e,i.headers[e])),i.responseType&&(r.responseType=i.responseType),r.onload=(t=>{200===r.status?e(r.response,r,t):s(r.status,r,t)}),r.onerror=(e=>{s(r.status,r,e)}),i.uploadProgress&&(r.upload.onprogress=(e=>{i.uploadProgress(e.loaded/e.total*100,r,e)})),i.beforeSend&&i.beforeSend(r),i.data?(i.processData&&("application/json"==i.contentType?i.data=JSON.stringify(i.data):i.data=t.parseParams(i.data)),r.send(i.data)):r.send()})},upload(e,s,r="POST"){t.isObject(e)?s=e:s.url=e;const n=new FormData;Object.keys(s.data).forEach(e=>n.append(e,s.data[e])),s.data=n,s.contentType||(s.contentType="multipart/form-data"),s.processData||(s.processData=!1),this.xhr(s,null,r)},loadScript(t){return this.xhr(t).then(t=>eval.apply(e,t))},loadScripts(t){return Promise.all(t.map(e=>this.xhr(e))).then(t=>t.forEach(t=>eval.apply(e,t)))},loadStyle(e){const t=this.create("link");this.setAttribute(t,"rel","stylesheet"),this.setAttribute(t,"href",e),this.append(this.findOne("head"),t)},loadStyles(e){e.forEach(e=>this.loadStyle(e))}}),Object.assign(t.prototype,{getCookie(e,t=!1){const s=decodeURIComponent(this.context.cookie).split(";").find(t=>t.trimStart().substring(0,e.length-1)===e);if(!s)return null;const r=s.trimStart().substring(e.length+1);return t?JSON.parse(r):r},removeCookie(e,t){this.setCookie(e,"",{expires:-1,...t})},setCookie(e,t,s,r=!1){if(!e)return;r&&(t=JSON.stringify(t));let n=e+"="+t;if(s){if(s.expires){let e=new Date;e.setTime(e.getTime()+1e3*s.expires),n+=";expires="+e.toUTCString()}s.path&&(n+=";path="+s.path),s.secure&&(n+=";secure")}this.context.cookie=n}}),Object.assign(t.prototype,{animationEventFactory(t){let s=!1;return r=>{s||(s=!0,e.requestAnimationFrame(()=>{t(r),s=!1}))}},delegateFactory(e,s,r){const n=t.isSelectorComplex(s)?this.getDelegateContainsFactory(e,s):this.getDelegateMatchFactory(e,s);return t=>{if(t.target.isSameNode(e))return;const s=n(t.target);return s?(t.delegateTarget=s,r(t)):void 0}},getDelegateContainsFactory(e,t){return s=>{const r=this.find(e,t);return!!r.length&&(r.includes(s)?s:this.closest(s,e=>r.contains(e),e))}},getDelegateMatchFactory(e,t){return s=>s.matches(t)?s:this.closest(s,e=>e.matches(t),e)},mouseDragFactory(t,s,r,n=!0){return s&&n&&(s=this.animationEventFactory(s)),n=>{t&&!1===t(n)||(s&&this.addEvent(e,"mousemove",s),this.addEventOnce(e,"mouseup",t=>{s&&this.removeEvent(e,"mousemove",s),r&&r(t)}))}},selfDestructFactory(e,t,s){const r=n=>(this.removeEvent(e,t,r),s(n));return r}}),Object.assign(t.prototype,{parseHTML(e){const t=this.create("template");return this.html(t,e),this.contents(t)},parseQuery(e,s=!0,r=!1,n=!1){return e&&!t.isString(e)?t.nodeArray(e,s,r,n):e&&e.match(t.htmlRegex)?this.parseHTML(e):this.find(this.context,e||"*")},parseXML:e=>(new DOMParser).parseFromString(e,"application/xml")}),t.fastRegex=/^\s*([\#\.]?)([\w\-]+)\s*$/,t.specialRegex=/^\s*([\>\+\~])(.*)$/,t.subRegex=/^\s*((?:[\w\#\.\:\-]|(?:\[(?:[^\[\]]*|\[[^\[\]]*\])*\]))*)\s*(.*)$/,t.splitRegex=/\s*((?:[\w\#\.\:\-]|\[(?:[^\[\]]*|\[[^\[\]]*\])*\]|[\s\>\~\+])+)\s*\,?/,t.htmlRegex=/^\s*\</,t.cssNumberProperties=["font-weight","line-height","opacity","orphans","widows","z-index"],t.ajaxDefaults={beforeSend:!1,cache:!1,contentType:"application/x-www-form-urlencoded",data:!1,dataType:!1,headers:{},method:!1,processData:!0};class s{constructor(e){this.nodes=core.parseQuery(e,!0,!0,!0),this.stack=[]}delay(e){return this.queue(()=>new Promise(t=>setTimeout(t,e)))}each(e){return this.nodes.forEach(e),this}eq(e){return this.pushStack(this.get(e))}filter(e){return this.pushStack(this.nodes.filter(e))}first(){return this.eq(0)}get(e){return e?e<0?this.nodes[e+this.nodes.length]:this.nodes[e]:this.nodes}last(){return this.eq(-1)}map(e){return this.nodes.map(e),this}popStack(){return this.nodes=this.stack.pop()||[],this}pushStack(e){return this.stack.push(this.nodes.slice()),this.nodes=e,this}slice(){return this.pushStack(this.nodes.slice(...arguments))}}class r extends s{constructor(...e){super(...e)}pushStack(e){return new r(e)}}return Object.assign(s.prototype,{animate(e,t){return this.queue(s=>core.animate(s,e,t))},stop(e=!0){return core.stop(this.nodes,e),this.clearQueue()}}),Object.assign(s.prototype,{dropIn(e=1e3){return this.queue(t=>core.dropIn(t,e))},dropOut(e=1e3){return this.queue(t=>core.dropOut(t,e))},fadeIn(e=1e3){return this.queue(t=>core.fadeIn(t,e))},fadeOut(e=1e3){return this.queue(t=>core.fadeOut(t,e))},rotateIn(e=0,t=1,s=!1,r=1e3){return this.queue(n=>core.rotateIn(n,e,t,s,r))},rotateOut(e=0,t=1,s=!1,r=1e3){return this.queue(n=>core.rotateOut(n,e,t,s,r))},slideIn(e="bottom",t=1e3){return this.queue(s=>core.slideIn(s,e,t))},slideOut(e="bottom",t=1e3){return this.queue(s=>core.slideOut(s,e,t))},squeezeIn(e="bottom",t=1e3){return this.queue(s=>core.squeezeIn(s,e,t))},squeezeOut(e="bottom",t=1e3){return this.queue(s=>core.squeezeOut(s,e,t))}}),Object.assign(s.prototype,{clearQueue(){return core.clearQueue(this.nodes),this},queue(e){return core.queue(this.nodes,e),this}}),Object.assign(s.prototype,{getAttribute(e){return core.getAttribute(this.nodes,e)},getDataset(e){return core.getDataset(this.nodes,e)},getHTML(){return core.getHTML(this.nodes)},getProperty(e){return core.getProperty(this.nodes,e)},getText(){return core.getText(this.nodes)},getValue(){return core.getValue(this.nodes)},removeAttribute(e){return core.removeAttribute(this.nodes,e),this},removeProperty(e){return core.removeProperty(this.nodes,e),this},setAttribute(e,t){return core.setAttribute(this.nodes,e,t),this},setDataset(e,t){return core.setDataset(this.nodes,e,t),this},setHTML(e){return core.setHTML(this.nodes,e),this},setProperty(e,t){return core.setProperty(this.nodes,e,t),this},setText(e){return core.setText(this.nodes,e),this},setValue(e){return core.setValue(this.nodes,e),this}}),Object.assign(s.prototype,{getData(e){return core.getData(this.nodes,e)},removeData(e){return core.removeData(this.nodes,e),this},setData(e,t){return core.setData(this.nodes,e,t),this}}),Object.assign(s.prototype,{center(e){return core.center(this.nodes,e)},constrain(e){return core.constrain(this.nodes,e)},distTo(e,t){return core.distTo(this.nodes,e,t)},distToNode(e){return core.distToNode(this.nodes,e)},nearestTo(e,t){return core.nearestTo(this.nodes,e,t)},nearestToNode(e){return core.nearestToNode(this.nodes,e)},percentX(e){return core.percentX(this.nodes,e)},percentY(e){return core.percentY(this.nodes,e)},position(e){return core.position(this.nodes,e)},rect(e){return core.rect(this.nodes,e)}}),Object.assign(s.prototype,{scrollTo(e,t){return core.scrollTo(this.nodes,e,t),this},scrollToX(e){return core.scrollToX(this.nodes,e),this},scrollToY(e){return core.scrollToY(this.nodes,e),this},scrollX(){return core.scrollX(this.nodes)},scrollY(){return core.scrollY(this.nodes)}}),Object.assign(s.prototype,{height(e,t,s){return core.height(this.nodes,e,t,s)},width(e,t,s){return core.width(this.nodes,e,t,s)}}),Object.assign(s.prototype,{addClass(...e){return core.addClass(this.nodes,...e),this},css(e){return core.css(this.nodes,e)},getStyle(e){return core.getStyle(this.nodes,e)},hide(e=0){return e>0?this.fadeOut(e).queue(e=>core.hide(e)):(core.hide(this.nodes),this)},removeClass(...e){return core.removeClass(this.nodes,...e),this},setStyle(e,t){return core.setStyle(this.nodes,e,t),this},show(e=0){return e>0?this.queue(t=>{core.show(nodes),core.fadeIn(t,e)}):(core.show(this.nodes),this)},toggle(){return core.toggle(this.nodes),this},toggleClass(...e){return core.toggleClass(this.nodes,...e),this}}),Object.assign(s.prototype,{addEvent(e,t,s){return core.addEvent(this.nodes,e,t,s),this},addEventOnce(e,t,s){return core.addEvent(this.nodes,e,t,s,!0),this},blur(){return core.blur(this.nodes),this},click(){return core.click(this.nodes),this},cloneEvents(e){return core.cloneEvents(this.nodes,e),this},focus(){return core.focus(this.nodes),this},removeEvent(e,t,s){return core.removeEvent(this.nodes,e,t,s),this},triggerEvent(e,t){return core.triggerEvent(this.nodes,e,t),this}}),Object.assign(s.prototype,{after(e){return core.after(this.nodes,e),this},append(e){return core.append(this.nodes,e),this},appendTo(e){return core.appendTo(this.nodes,e),this},before(e){return core.before(this.nodes,e),this},clone(e=!0,t=!1){return this.pushStack(core.clone(this.nodes,e,t))},detach(){return core.detach(this.nodes),this},empty(){return core.empty(this.nodes),this},insertAfter(e){return core.insertAfter(this.nodes,e),this},insertBefore(e){return core.insertBefore(this.nodes,e),this},prepend(e){return core.prepend(this.nodes,e),this},prependTo(e){return core.prependTo(this.nodes,e),this},remove(){return core.remove(this.nodes),this},replaceAll(e){return core.replaceAll(this.nodes,e),this},replaceWith(e){return core.replaceWith(this.nodes,e),this},unwrap(e){return core.unwrap(this.nodes,e),this},wrap(e){return core.wrap(this.nodes,e),this},wrapAll(e){return core.wrapAll(this.nodes,e),this},wrapInner(e){return core.wrapInner(this.nodes,e),this}}),Object.assign(s.prototype,{contains(e){return core.contains(this.nodes,e)},hasAttribute(e){return core.hasAttribute(this.nodes,e)},hasClass(...e){return core.hasClass(this.nodes,...e)},hasData(e){return core.hasData(this.nodes,e)},hasProperty(e){return core.hasProperty(this.nodes,e)},isFixed(){return core.isFixed(this.nodes)},isHidden(){return core.isHidden(this.nodes)},isVisible(){return core.isVisible(this.nodes)}}),Object.assign(s.prototype,{filter(e){return this.pushStack(core.filter(this.nodes,e))},filterOne(e){return this.pushStack(core.filterOne(this.nodes,e))},has(e){return this.pushStack(core.has(this.nodes,e))},hidden(){return this.pushStack(core.hidden(this.nodes))},not(e){return this.pushStack(core.not(this.nodes,e))},visible(){return this.pushStack(core.visible(this.nodes))}}),Object.assign(s.prototype,{find(e){return this.pushStack(core.find(this.nodes,e))},findByClass(e){return this.pushStack(core.findByClass(this.nodes,e))},findById(e){return this.pushStack(core.findById(this.nodes,e))},findByTag(e){return this.pushStack(core.findByTag(this.nodes,e))},findOne(e){return this.pushStack(core.findOne(this.nodes,e))},findOneByClass(e){return this.pushStack(core.findOneByClass(this.nodes,e))},findOneById(e){return this.pushStack(core.findOneById(this.nodes,e))},findOneByTag(e){return this.pushStack(core.findOneByTag(this.nodes,e))}}),Object.assign(s.prototype,{closest(e,t){return this.pushStack(core.closest(this.nodes,e,t))},child(e){return this.pushStack(core.child(this.nodes,e))},children(e){return this.pushStack(core.children(this.nodes,e))},contents(){return this.pushStack(core.contents(this.nodes))},next(e){return this.pushStack(core.next(this.nodes,e))},nextAll(e,t=!1,s=!1){return this.pushStack(core.nextAll(this.nodes,e,t,s))},offsetParent(){return this.pushStack(core.offsetParent(this.nodes))},parent(e){return this.pushStack(core.parent(this.nodes,e))},parents(e,t){return this.pushStack(core.parents(this.nodes,e,t))},prev(e){return this.pushStack(core.prev(this.nodes,e))},prevAll(e,t=!1,s=!1){return this.pushStack(core.prevAll(this.nodes,e,t,s))},siblings(e){return this.pushStack(core.siblings(this.nodes,e))}}),Object.assign(s.prototype,{forceShow(e){return core.forceShow(this.nodes,e)},index(e){return core.index(this.nodes,e)},indexOf(){return core.indexOf(this.nodes)},select(){return core.select(this.nodes),this},selectAll(){return core.selectAll(this.nodes),this},serialize(){return core.serialize(this.nodes)},serializeArray(){return core.serializeArray(this.nodes)},serializeObject(){return core.serializeObject(this.nodes)}}),{Core:t,core:new t,QuerySet:s,QuerySetImmutable:r}});