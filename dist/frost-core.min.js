!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):Object.assign(e,t(e))}(window,function(e){const t={};class s{constructor(t){this.context=t||e.document,this.animating=!1,this.animations=new Map,this.queues=new WeakMap,this.nodeData=new WeakMap,this.nodeEvents=new WeakMap,this.nodeStyles=new WeakMap}query(e,s=!0){return t.isFunction(e)?this.ready(e):s?new r(e):new n(e)}ready(t){"complete"===this.context.readyState?t():this.addEvent(e,"DOMContentLoaded",t)}}Object.assign(s.prototype,{animate(e,r,n){const i=Date.now(),o=[];return s.nodeArray(e).forEach(e=>{this.animations.has(e)||this.animations.set(e,[]);const s=new Promise((s,o)=>{this.animations.get(e).push((a=!1,h=!1)=>{if(a&&!h)return o(e),!1;const d=h?1:t.clamp((Date.now()-i)/n);return r(e,d),1!==d||(s(e),!1)})});o.push(s)}),o.length&&!this.animating&&(this.animating=!0,this.animationFrame()),Promise.all(o)},animationFrame(){const t=[];this.animations.forEach((e,s)=>{const r=[];e.forEach((e,t)=>{e()||r.push(t)}),r.length&&((e=e.filter((e,t)=>!r.includes(t))).length||t.push(s))}),t.forEach(e=>this.animations.delete(e)),this.animations.size?e.requestAnimationFrame(()=>this.animationFrame()):this.animating=!1},stop(e,t=!0){s.nodeArray(e).forEach(e=>{if(!this.animations.has(e))return;this.animations.get(e).forEach(e=>e(!0,t)),this.animations.delete(e)})}}),Object.assign(s.prototype,{dropIn(e,t=1e3){return this.slideIn(e,"top",t)},dropOut(e,t=1e3){return this.slideOut(e,"top",t)},fadeIn(e,t=1e3){return this.animate(e,(e,t)=>this.setStyle(e,"opacity",t<1?t:""),t)},fadeOut(e,t=1e3){return this.animate(e,(e,t)=>this.setStyle(e,"opacity",t<1?1-t:""),t)},rotateIn(e,t=0,s=1,r=!1,n=1e3){return this.animate(e,(e,n)=>{if(1===n)return this.setStyle(e,"transform","");let i=90-90*n;r&&(i*=-1),this.setStyle(e,"transform","rotate3d("+t+", "+s+", 0, "+i+"deg)")},n)},rotateOut(e,t=0,s=1,r=!1,n=1e3){return this.animate(e,(e,n)=>{if(1===n)return this.setStyle(e,"transform","");let i=90*n;r&&(i*=-1),this.setStyle(e,"transform","rotate3d("+t+", "+s+", 0, "+i+"deg)")},n)},slideIn(e,s="bottom",r=1e3){return this.animate(e,(e,r)=>{if(1===r)return this.setStyle(e,"transform","");const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=this.height(e);let s=Math.round(t-t*r);"top"===n&&(s*=-1),this.setStyle(e,"transform","translateY("+s+"px)")}else{const t=this.width(e);let s=Math.round(t-t*r);"left"===n&&(s*=-1),this.setStyle(e,"transform","translateX("+s+"px)")}},r)},slideOut(e,s="bottom",r=1e3){return this.animate(e,(e,r)=>{if(1===r)return this.setStyle(e,"transform","");const n=t.isFunction(s)?s():s;if("top"===n||"bottom"===n){const t=this.height(e);let s=Math.round(t*r);"top"===n&&(s*=-1),this.setStyle(e,"transform","translateY("+s+"px)")}else{const t=this.width(e);let s=Math.round(t*r);"left"===n&&(s*=-1),this.setStyle(e,"transform","translateX("+s+"px)")}},r)},squeezeIn(e,s="bottom",r=1e3){const n=this.create("div");return this.setStyle(n,"overflow","hidden"),this.setStyle(n,"position","relative"),this.wrap(e,n),this.animate(e,(e,r)=>{const n=this.parent(e);if(1===r)return this.unwrap(e);const i=t.isFunction(s)?s():s,o=Math.round(this.height(e,!0,!0,!0)),a=Math.round(this.width(e,!0,!0,!0));if("top"===i||"bottom"===i){this.setStyle(n,"width",a);const e=Math.round(o*r);this.setStyle(n,"height",e),"top"===i&&this.setStyle(n,"transform","translateY("+(o-e)+"px)")}else{this.setStyle(n,"height",o);const e=Math.round(a*r);this.setStyle(n,"width",e),"left"===i&&this.setStyle(n,"transform","translateX("+(a-e)+"px)")}},r)},squeezeOut(e,s="bottom",r=1e3){const n=this.create("div");return this.setStyle(n,"overflow","hidden"),this.setStyle(n,"position","relative"),this.wrap(e,n),this.animate(e,(e,r)=>{const n=this.parent(e);if(1===r)return this.unwrap(e);const i=t.isFunction(s)?s():s,o=Math.round(this.height(e,!0,!0,!0)),a=Math.round(this.width(e,!0,!0,!0));if("top"===i||"bottom"===i){this.setStyle(n,"width",a);const e=Math.round(o-o*r);this.setStyle(n,"height",e),"top"===i&&this.setStyle(n,"transform","translateY("+(o-e)+"px)")}else{this.setStyle(n,"height",o);const e=Math.round(a-a*r);this.setStyle(n,"width",e),"left"===i&&this.setStyle(n,"transform","translateX("+(a-e)+"px)")}},r)}}),Object.assign(s.prototype,{clearQueue(e){s.nodeArray(e).forEach(e=>{this.queues.has(e)&&this.queues.delete(e)})},dequeue(e){s.nodeArray(e).forEach(e=>{if(!this.queues.has(e))return;const t=this.queues.get(e).shift();t?Promise.resolve(t.bind(e)(e)).finally(()=>this.dequeue(e)):this.queues.delete(e)})},queue(e,t){s.nodeArray(e).forEach(e=>{const s=!this.queues.has(e);s&&this.queues.set(e,[]),this.queues.get(e).push(t),s&&this.dequeue(e)})}}),Object.assign(s.prototype,{getAttribute(e,t){const r=s.nodeFirst(e);if(r)return r.getAttribute(t)},getDataset(e,t){const r=s.nodeFirst(e);if(r)return t?r.dataset[t]:r.dataset},getHTML(e){return this.getProp(e,"innerHTML")},getProp(e,t){const r=s.nodeFirst(e);if(r)return r[t]},getText(e){return this.getProp(e,"innerText")},getValue(e){return this.getProp(e,"value")},removeAttribute(e,t){s.nodeArray(e).forEach(e=>e.removeAttribute(t))},removeProp(e,t){s.nodeArray(e).forEach(e=>{delete e[t]})},setAttribute(e,r,n){s.nodeArray(e).forEach(e=>{t.isObject(r)?Object.keys(r).forEach(t=>e[t]=r[t]):e.setAttribute(r,n)})},setDataset(e,t,r){s.nodeArray(e).forEach(e=>{e.dataset[t]=r})},setHTML(e,t){this.empty(e),this.setProp(e,"innerHTML",t)},setProp(e,r,n){s.nodeArray(e).forEach(e=>{t.isObject(r)?Object.keys(r).forEach(t=>e[t]=r[t]):e[r]=n})},setText(e,t){this.empty(e),this.setProp(e,"innerText",t)},setValue(e,t){this.setProp(e,"value",t)}}),Object.assign(s.prototype,{getData(e,t){const r=s.nodeFirst(e,!1,!0,!0);if(!r)return;if(!this.nodeData.has(r))return;const n=this.nodeData.get(r);return t?n[t]:n},removeData(e,t){s.nodeArray(e,!1,!0,!0).forEach(e=>{if(this.nodeData.has(e)){if(t){const s=this.nodeData.get(e);if(delete s[t],Object.keys(s).length)return}this.nodeData.delete(e)}})},setData(e,t,r){s.nodeArray(e,!1,!0,!0).forEach(e=>{this.nodeData.has(e)||this.nodeData.set(e,{}),this.getData(e)[t]=r})}}),Object.assign(s.prototype,{center(e,t){const s=this.rect(e,t);if(s)return{x:s.left+s.width/2,y:s.top+s.height/2}},constrain(e,t){const r=this.rect(t);r&&s.nodeArray(e).forEach(e=>{const t=this.rect(e);t.height>r.height&&this.setStyle(e,"height",r.height+"px"),t.width>r.width&&this.setStyle(e,"width",r.width+"px"),t.top<r.top&&this.setStyle(e,"top",r.top),t.right>r.right&&this.setStyle(e,"left",r.right-t.width),t.bottom>r.bottom&&this.setStyle(e,"top",r.bottom-t.height),t.left<r.left&&this.setStyle(e,"left",r.left)})},distTo(e,s,r){const n=this.center(e);if(n)return t.dist(n.x,n.y,s,r)},distToNode(e,t){const s=this.center(t);if(s)return this.distTo(e,s.x,s.y)},nearestTo(e,t,r){let n=null,i=Number.MAX_VALUE;return s.nodeArray(e).forEach(e=>{const s=this.distTo(e,t,r);s&&s<i&&(i=s,n=e)}),n},nearestToNode(e,t){const s=this.center(t);if(s)return this.nearestTo(e,s.x,s.y)},percentX(e,s,r){const n=this.rect(e,r);if(n)return t.clampPercent((s-n.left)/n.width*100)},percentY(e,s,r){const n=this.rect(e,r);if(n)return t.clampPercent((s-n.top)/n.height*100)},position(e,t){const r=s.nodeFirst(e);if(r)return this.forceShow(r,e=>{const s={x:e.offsetLeft,y:e.offsetTop};if(t){const e=this.position(parent,!0);e&&(s.x+=e.x,s.y+=e.y)}return s})},rect(t,r){const n=s.nodeFirst(t);if(n)return this.forceShow(n,t=>{const s=t.getBoundingClientRect();return r&&(s.x+=this.scrollX(e),s.y+=this.scrollY(e)),s})}}),Object.assign(s.prototype,{scrollTo(e,r,n){s.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(r,n):s.isDocument(e)?(e.scrollingElement.scrollLeft=r,e.scrollingElement.scrollTop=n):s.isElement(e)&&(e.scrollLeft=r,e.scrollTop=n)})},scrollToX(e,r){s.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(r,e.scrollY):s.isDocument(e)?e.scrollingElement.scrollLeft=r:s.isElement(e)&&(e.scrollLeft=r)})},scrollToY(e,r){s.nodeArray(e,!0,!0,!0).forEach(e=>{t.isWindow(e)?e.scroll(e.scrollX,r):s.isDocument(e)?e.scrollingElement.scrollTop=r:s.isElement(e)&&(e.scrollTop=r)})},scrollX(e){let r=s.nodeFirst(e,!0,!0,!0);if(r)return t.isWindow(r)?r.scrollX:(s.isDocument(r)&&(r=r.scrollingElement),r.scrollLeft)},scrollY(e){let r=s.nodeFirst(e,!0,!0,!0);if(r)return t.isWindow(r)?r.scrollY:(s.isDocument(r)&&(r=r.scrollingElement),r.scrollTop)}}),Object.assign(s.prototype,{height(e,r,n,i){let o=s.nodeFirst(e,!0,!0,!0);if(o)return t.isWindow(o)?r?o.outerHeight:o.innerHeight:(s.isDocument(o)&&(o=o.documentElement),this.forceShow(o,e=>{let t=e.clientHeight;return r||(t-=parseInt(this.css(e,"padding-top"))+parseInt(this.css(e,"padding-bottom"))),n&&(t+=parseInt(this.css(e,"border-top-width"))+parseInt(this.css(e,"border-bottom-width"))),i&&(t+=parseInt(this.css(e,"margin-top"))+parseInt(this.css(e,"margin-bottom"))),t}))},width(e,r,n,i){let o=s.nodeFirst(e,!0,!0,!0);if(o)return t.isWindow(o)?r?o.outerWidth:o.innerWidth:(s.isDocument(o)&&(o=o.documentElement),this.forceShow(o,e=>{let t=e.clientWidth;return r||(t-=parseInt(this.css(e,"padding-left"))+parseInt(this.css(e,"padding-right"))),n&&(t+=parseInt(this.css(e,"border-left-width"))+parseInt(this.css(e,"border-right-width"))),i&&(t+=parseInt(this.css(e,"margin-left"))+parseInt(this.css(e,"margin-right"))),t}))}}),Object.assign(s.prototype,{addClass(e,...t){(t=s.parseClasses(t)).length&&s.nodeArray(e).forEach(e=>e.classList.add(...t))},css(t,r){const n=s.nodeFirst(t);if(n)return e.getComputedStyle(n)[r]},getStyle(e,t){const r=s.nodeFirst(e);if(r)return r.style[t]},hide(e){this.setStyle(e,"display","none")},removeClass(e,...t){(t=s.parseClasses(t)).length&&s.nodeArray(e).forEach(e=>e.classList.remove(...t))},setStyle(e,r,n){t.isObject(r)?Object.keys(r).forEach(t=>this.setStyle(e,t,r[t])):(r=t.camelCase(r),(n=""+n)&&t.isNumeric(n)&&!s.cssNumberProperties.includes(r)&&(n+="px"),s.nodeArray(e).forEach(e=>{e.style[r]=n}))},show(e){this.setStyle(e,"display","")},toggle(e){s.nodeArray(e).forEach(e=>"none"===this.getStyle(e,"display")?this.show(e):this.hide(e))},toggleClass(e,...t){(t=s.parseClasses(t)).length&&s.nodeArray(e).forEach(e=>t.forEach(t=>e.classList.toggle(t)))}}),Object.assign(s.prototype,{addEvent(e,r,n,i,o=!1){t.isFunction(n)&&(t.isBoolean(i)&&(o=i),i=n,n=!1);const a=s.parseEvents(r);s.nodeArray(e,!0,!0,!0).forEach(e=>{let t=i;o&&(t=this.selfDestructFactory(e,r,t)),n&&(t=this.delegateFactory(e,n,t)),this.nodeEvents.has(e)||this.nodeEvents.set(e,{});const h=this.nodeEvents.get(e),d={delegate:n,callback:i,realCallback:t};a.forEach(r=>{const n=s.parseEvent(r);if(d.event=r,d.realEvent=n,h[n]){if(h[n].includes(d))return}else h[n]=[];e.addEventListener(n,t),h[n].push(d)})})},addEventOnce(e,t,s,r){return this.addEvent(e,t,s,r,!0)},cloneEvents(e,t){s.nodeArray(e,!0,!0,!0).forEach(e=>{this.nodeEvents.has(e)&&this.nodeEvents.get(e).forEach(e=>{this.addEvent(t,e.event,e.delegate,e.callback)})})},removeEvent(e,r,n,i){n&&t.isFunction(n)&&(i=n,n=!1);let o=!!r&&s.parseEvents(r);s.nodeArray(e,!0,!0,!0).forEach(e=>{if(!this.nodeEvents.has(e))return;const t=this.nodeEvents.get(e);o||(o=Object.keys(t)),o.forEach(r=>{const o=s.parseEvent(r);if(!t[o])return;let a=t[o];const h=[];a.forEach((t,s)=>{if(o===r){if(o!==t.realEvent)return}else if(r!==t.event)return;if(n){if(n!==t.delegate||i&&i!==t.callback)return}else if(i&&i!==t.realCallback)return;e.removeEventListener(t.realEvent,t.realCallback),h.push(s)}),(a=a.filter((e,t)=>!h.includes(t))).length||delete t[o]}),Object.keys(t).length||this.nodeEvents.delete(e)})},triggerEvent(e,t,r){s.nodeArray(e,!0,!0,!0).forEach(e=>s.parseEvents(t).forEach(t=>{const n=s.parseEvent(t),i=new Event(n);r&&Object.assign(i,r),e.dispatchEvent(i)}))}}),Object.assign(s.prototype,{after(e,t){const r=s.nodeFirst(e,!1);r&&this.parseQuery(t).reverse().forEach(e=>r.parentNode.insertBefore(e,r.nextSibling))},append(e,t){const r=s.nodeFirst(e,!1);r&&this.parseQuery(t,!1).forEach(e=>r.insertBefore(e,null))},appendTo(e,t){this.append(t,e)},before(e,t){const r=s.nodeFirst(e,!1);r&&this.parseQuery(t,!1).forEach(e=>r.parentNode.insertBefore(e,r))},clone(e,t=!0,r=!1){const n=[];return s.nodeArray(e,!1).forEach(e=>{const s=e.cloneNode(t);if(r&&(this.cloneEvents(e,s),this.cloneData(e,s),t)){const t=this.find(e,"*");this.find(s,"*").forEach((e,s)=>{this.cloneEvents(t[s],e),this.cloneData(t[s],e)})}n.push(s)}),n},create(e){return this.context.createElement(e)},detach(e){s.nodeArray(e,!1).forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)})},empty(e){this.remove(this.find(e,"*"),!1),this.setProp(e,"innerHTML","")},insertAfter(e,t){this.after(t,e)},insertBefore(e,t){this.before(t,e)},prepend(e,t){const r=s.nodeFirst(e,!1);r&&this.parseQuery(t,!1).reverse().forEach(e=>r.insertBefore(e,r.firstChild))},prependTo(e,t){this.prepend(t,e)},remove(e,t=!0){t&&this.empty(e),this.clearQueue(e),this.stop(e),this.removeEvent(e),this.removeData(e),this.detach(e)},replaceAll(e,t){this.replaceWith(t,e)},replaceWith(e,t){t=this.parseQuery(t,!1),s.nodeArray(e,!1).forEach(e=>{this.before(e,this.clone(t,!0)),this.remove(e)})},unwrap(e,t){s.nodeArray(e,!1).forEach(e=>{const s=this.parent(e,t);s&&(this.before(s,this.contents(s)),this.remove(s))})},wrap(e,t){t=this.parseQuery(t),s.nodeArray(e,!1).forEach(e=>{const s=this.clone(t,!0);this.before(e,s),this.append(this.filterOne(this.find(s,"*"),e=>!this.child(e))||s,e)})},wrapAll(e,t){t=this.parseQuery(t);const s=this.clone(t,!0);this.before(e,s),this.append(this.filterOne(this.find(s,"*"),e=>!this.child(e))||s,e)},wrapInner(e,t){t=this.parseQuery(t),s.nodeArray(e,!1).forEach(e=>{const s=this.clone(t,!0);this.append(e,s),this.append(this.filterOne(this.find(s,"*"),e=>!this.child(e))||s,this.contents(e))})}}),Object.assign(s.prototype,{hasAttribute:(e,t)=>!!s.nodeArray(e).find(e=>e.hasAttribute(t)),hasClass:(e,...t)=>(t=s.parseClasses(t),!!s.nodeArray(e).find(e=>t.find(t=>e.classList.contains(t)))),hasData(e,t){return!!s.nodeArray(e,!1).find(e=>this.nodeData.has(e)&&(!t||this.nodeData.get(e).hasOwnProperty(t)))},hasProperty:(e,t)=>!!s.nodeArray(e).find(e=>e.hasOwnProperty(t)),isFixed(e){return!!s.nodeArray(e).find(e=>"fixed"===this.css(e,"position")||this.closest(e,e=>"fixed"===this.css(e,"position")))},isHidden:e=>!!s.nodeArray(e,!1,!0).find(e=>!s.isDocument(e)&&s.isNode(e)&&!e.offsetParent),isVisible:e=>!!s.nodeArray(e,!1,!0,!0).find(e=>t.isWindow(e)||s.isDocument(e)||s.isNode(e)&&e.offsetParent)}),Object.assign(s.prototype,{filter:(e,t)=>(t=s.parseFilter(t),s.nodeArray(e).filter((e,s)=>!t||t(e,s))),filterOne:(e,t)=>(t=s.parseFilter(t),s.nodeArray(e).find((e,s)=>!t||t(e,s))||null),has(e,t){return s.nodeArray(e).filter(e=>this.findOne(e,t))},hidden(e){return s.nodeArray(e).filter(e=>this.isHidden(e))},not:(e,t)=>(t=s.parseFilter(t),s.nodeArray(e).filter((e,s)=>!t||!t(e,s))),visible(e){return s.nodeArray(e).filter(e=>this.isVisible(e))}}),Object.assign(s.prototype,{find(e,t){t||(t=e,e=this.context);const[r,n]=s.parseSelector(t);return"#"===r?this.findById(e,n):"."===r?this.findByClass(e,n):r?this.findByTag(e,n):s.isSelectorComplex(t)?this._findByCustom(e,t):this.findSelector(e,t)},findByClass(e,t){const r=new Set;return s.nodeArray(e,!0,!0).forEach(e=>Array.from(e.getElementsByClassName(t)).forEach(e=>r.add(e))),s.sortNodes([...r])},findById(e,t){const r=new Set;return s.nodeArray(e,!0,!0).forEach(e=>r.add(e.getElementById(t))),s.sortNodes([...r].filter(e=>!!e))},findByTag(e,t){const r=new Set;return s.nodeArray(e,!0,!0).forEach(e=>Array.from(e.getElementsByTagName(t)).forEach(e=>r.add(e))),s.sortNodes([...r])},findSelector(e,t){const r=new Set;return s.nodeArray(e,!0,!0).forEach(e=>Array.from(e.querySelectorAll(t)).forEach(e=>r.add(e))),s.sortNodes([...r])},findOne(e,t){t||(t=e,e=this.context);const[r,n]=s.parseSelector(t);return"#"===r?this.findOneById(e,n):"."===r?this.findOneByClass(e,n):r?this.findOneByTag(e,n):s.isSelectorComplex(t)?this._findOneByCustom(e,t):this.findOneSelector(e,t)},findOneByClass(e,t){return this.findByClass(e,t).shift()||null},findOneById(e,t){return this.findById(e,t).shift()||null},findOneByTag(e,t){return this.findByTag(e,t).shift()||null},findOneSelector(e,t){const r=new Set;return s.nodeArray(e,!0,!0).forEach(e=>r.add(e.querySelector(t))),s.sortNodes([...r].filter(e=>!!e)).shift()||null},_findByCustom(e,t){const r=new Set;return s.parseSelectors(t).forEach(t=>{const[n,i]=t;let o=[];if("#"===n)o=this.findById(e,i);else if("."===n)o=this.findByClass(e,i);else if(!0===n)o=this.findByTag(e,i);else if(n){if([">","+","~"].includes(n)){const[t,r]=s.parseSubQuery(i);">"===n?o=this.children(e,t):"+"===n?o=this.next(e,t):"~"===n&&(o=this.nextAll(e,t)),o.length&&r&&(o=this.find(o,r))}}else o=this.findSelector(e,i);o.forEach(e=>r.add(e))}),s.sortNodes([...r])},_findOneByCustom(e,t){const r=new Set;return s.parseSelectors(t).forEach(t=>{const[n,i]=t;let o;if("#"===n)o=this.findOneById(e,i);else if("."===n)o=this.findOneByClass(e,i);else if(!0===n)o=this.findOneByTag(e,i);else if(n){if([">","+","~"].includes(n)){const[t,a]=s.parseSubQuery(i);">"===n?o=this.child(e,t):"+"===n?o=this.next(e,t):"~"===n&&(o=this.nextAll(e,t,!1,!0)),r.length&&a&&(o=this.findOne(o,a)),o=s.nodeArray(o).shift()}}else o=this.findOneSelector(e,i);o&&r.add(o)}),s.sortNodes([...r]).shift()||null}}),Object.assign(s.prototype,{closest(e,t,s){return this.parents(e,t,s,!0)},child(e,t){return this.children(e,t,!0)},children(e,t,r=!1,n=!0){t=s.parseFilter(t);const i=new Set;s.nodeArray(e).forEach(e=>s.nodeArray(e.childNodes,n).forEach(e=>{if(!t||t(e))return i.add(e),!r}));const o=s.sortNodes([...i]);return r&&s.isNode(e)?o.shift()||null:o},contents(e){return this.children(e,!1,!1,!1)},next(e,t){t=s.parseFilter(t);const r=new Set;s.nodeArray(e,!1).forEach(e=>{e.nextSibling&&(t&&!t(e.nextSibling)||r.add(e.nextSibling))});const n=s.sortNodes([...r]);return s.isNode(e)?n.shift()||null:n},nextAll(e,t,r=!1,n=!1){t=s.parseFilter(t),r=s.parseFilter(r);const i=new Set;return s.nodeArray(e,!1).forEach(e=>{for(;(e=e.nextSibling)&&(!r||!r(e))&&(t&&!t(e)||(i.add(e),!n)););}),s.sortNodes([...i])},offsetParent(e){return this.forceShow(e,e=>e.offsetParent)},parent(e,t){t=s.parseFilter(t);const r=new Set;s.nodeArray(e,!1).forEach(e=>{e.parentNode&&(t&&!t(e.parentNode)||r.add(e.parentNode))});const n=s.sortNodes([...r]);return s.isNode(e)?n.shift()||null:n},parents(e,t,r,n=!1){t=s.parseFilter(t),r=s.parseFilter(r);const i=new Set;s.nodeArray(e,!1).forEach(e=>{for(;(e=e.parentNode)&&(!r||!r(e));)if((!t||t(e))&&(i.add(e),n))return});const o=s.sortNodes([...i]);return n&&s.isNode(e)?o.shift()||null:o},prev(e,t){t=s.parseFilter(t);const r=new Set;s.nodeArray(e,!1).forEach(e=>{e.previousSibling&&(t&&!t(e.previousSibling)||r.add(e.previousSibling))});const n=s.sortNodes([...r]);return s.isNode(e)?n.shift()||null:n},prevAll(e,t,r=!1,n=!1){t=s.parseFilter(t),r=s.parseFilter(r);const i=new Set;return s.nodeArray(e,!1).forEach(e=>{for(;(e=e.previousSibling)&&(!r||!r(e))&&(t&&!t(e)||(i.add(e),!n)););}),s.sortNodes([...i])},siblings(e,t,r=!0){t=s.parseFilter(t);const n=new Set;return s.nodeArray(e,!1).forEach(e=>{e.parentNode&&s.nodeArray(e.parentNode.childNodes,r).forEach(s=>{s.isSameNode(e)||t&&!t(s)||n.add(s)})}),s.sortNodes([...n])}}),Object.assign(s.prototype,{forceShow(e,t){const r=s.nodeFirst(e,!0,!0,!0);if(!r)return;if(this.isVisible(r))return t(r);const n=[],i=[];"none"===this.css(r,"display")&&(n.push(r),i.push(this.getStyle(r,"display"))),this.parents(r,e=>"none"===this.css(e,"display")).forEach(e=>{n.push(e),i.push(this.getStyle(e,"display"))}),this.setStyle(n,"display","initial !important");const o=t(r);return n.forEach((e,t)=>this.setStyle(e,"display",i[t])),o},index:(e,t)=>(t=s.parseFilter(t),s.nodeArray(e).findIndex(e=>!t||t(e))),indexOf(e){const t=s.nodeFirst(e);if(t)return this.children(this.parent(t)).indexOf(t)},serialize(e){return s.parseParams(this.serializeObject(e))},serializeArray(e){const t=this.serializeObject(e);return Object.keys(t).map(e=>({name:e,value:t[e]}))},serializeObject(e){return s.nodeArray(e).reduce((e,t)=>{if(t.matches("form"))return void Object.assign(e,this.serializeObject(i.find(t,"input, select, textarea")));if(t.matches("[disabled], input[type=submit], input[type=reset], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return;const s=i.getAttribute(t,"name"),r=i.getValue(t);"[]"===s.substring(-2)?(e[s]||(e[s]=[]),e[s].push(r)):e[s]=r},{})}}),Object.assign(s,{makeArray(e){return e?Array.isArray(e)?e:this.isNodeList(e)||this.isElementList(e)?Array.from(e):this.isQuerySet(e)?e.get():[e]:[]},nodeArray(e,t=!0,s=!1,r=!1){return this.makeArray(e).filter(this.nodeFilterFactory(t,s,r))},nodeFilterFactory(e=!0,t=!1,s=!1){return r=>!e&&this.isNode(r)||e&&this.isElement(r)||t&&this.isDocument(r)||s&&this.isWindow(r)},nodeFirst(e,t=!0,s=!1,r=!1){return this.makeArray(e).find(this.nodeFilterFactory(t,s,r))},sortNodes(e){return this.nodeArray(e,!1).sort((e,t)=>{if(e.isSameNode(t))return 0;const s=e.compareDocumentPosition(t);return s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS?1:0})}}),Object.assign(s,{parseClasses:e=>t.uniqueArray(t.flattenArray(e).reduce((e,t)=>e.concat(...t.split(" ")),[]).filter(e=>e)),parseEvent:e=>e.split(".").shift(),parseEvents:e=>e.split(" "),parseFilter(e){return!!e&&(t.isFunction(e)?e:t.isString(e)?t=>t.matches(e):this.isNode(e)?t=>t.isSameNode(e):!!(e=this.nodeArray(e)).length&&(t=>e.includes(t)))},parseParams(e){const s=[];return Array.isArray(e)?e.forEach(e=>this.parseParam(e.name,e.value,s)):t.isObject(e)&&Object.keys(e).forEach(t=>this.parseParam(t,e[t],s)),s.map(encodeURI).join("&")},parseParam(e,s,r){Array.isArray(s)?s.forEach(t=>this.parseParam(e,t,r)):t.isObject(s)?Object.keys(s).forEach(t=>this.parseParam(e+"["+t+"]",s[t],r)):r.push(e+"="+s)},parseSelector(e,t=!0){const s=e.match(this.fastRegex);if(s)return s.slice(1);if(!t){const t=e.match(this.specialRegex);if(t)return t.slice(1)}return[!1,e]},parseSelectors(e){return Array.isArray(e)||(e=e.split(this.splitRegex).filter(e=>e)),e.map(e=>this.parseSelector(e.trim(),!1))},parseSubQuery(e){return e.match(this.subRegex).slice(1)}}),Object.assign(s,{isDocument:e=>e instanceof Document,isElement:e=>e instanceof HTMLElement,isElementList:e=>e instanceof HTMLCollection,isNode:e=>e instanceof Node,isNodeList:e=>e instanceof NodeList,isQuerySet:e=>e instanceof r,isSelectorComplex(e){return!!this.parseSelectors(e).find(e=>[">","+","~"].includes(e[0]))}}),Object.assign(s.prototype,{ajax(r,n=null,i="GET"){t.isObject(r)?(i=n||i,n=r):(n=n||{}).url=r;const o={...s.ajaxDefaults,...n};return o.method||(o.method=i),o.url||(o.url=e.location),o.cache&&(o.url+=(o.url.indexOf("?")<0?"?":"&")+Date.now()),o.contentType&&!o.headers["Content-Type"]&&(o.headers["Content-Type"]=o.contentType),o.headers["X-Requested-With"]||(o.headers["X-Requested-With"]="XMLHttpRequest"),new Promise((e,t)=>{const r=new XMLHttpRequest;r.open(o.method,o.url,!0),Object.keys(o.headers).forEach(e=>r.setRequestHeader(e,o.headers[e])),o.responseType&&(r.responseType=o.responseType),r.onload=(s=>{200===r.status?e(r.response,r,s):t(r.status,r,s)}),r.onerror=(e=>{t(r.status,r,e)}),o.uploadProgress&&(r.upload.onprogress=(e=>{o.uploadProgress(e.loaded/e.total*100,r,e)})),o.beforeSend&&o.beforeSend(r),o.data?(o.processData&&("application/json"==o.contentType?o.data=JSON.stringify(o.data):o.data=s.parseParams(o.data)),r.send(o.data)):r.send()})},loadScript(t){return this.xhr(t).then(t=>eval.apply(e,t))},loadScripts(t){return Promise.all(t.map(e=>this.xhr(e))).then(t=>t.forEach(t=>eval.apply(e,t)))},loadStyle(e){const t=this.findOne("head"),s=this.create("link");this.setAttribute(s,"rel","stylesheet"),this.setAttribute(s,"href",e),this.append(t,s)},loadStyles(e){e.forEach(e=>this.loadStyle(e))},upload(e,s,r="POST"){t.isObject(e)?s=e:s.url=e;const n=new FormData;Object.keys(s.data).forEach(e=>n.append(e,s.data[e])),s.data=n,s.contentType||(s.contentType="multipart/form-data"),s.processData||(s.processData=!1),this.xhr(s,null,r)}}),Object.assign(s.prototype,{getCookie(e,t=!1){const s=decodeURIComponent(this.context.cookie).split(";").find(t=>t.trimStart().substring(0,e.length-1)===e);if(!s)return null;const r=s.trimStart().substring(e.length+1);return t?JSON.parse(r):r},removeCookie(e,t){this.setCookie(e,"",{expires:-1,...t})},setCookie(e,t,s,r=!1){if(!e)return;r&&(t=JSON.stringify(t));let n=e+"="+t;if(s){if(s.expires){let e=new Date;e.setTime(e.getTime()+1e3*s.expires),n+=";expires="+e.toUTCString()}s.path&&(n+=";path="+s.path),s.secure&&(n+=";secure")}this.context.cookie=n}}),Object.assign(s.prototype,{animationEventFactory(t,s,r){r=this.selfDestructFactory(t,s,r);const n=i=>{r(i),e.requestAnimationFrame(()=>this.addEventOnce(t,s,n))};return n},delegateFactory(e,t,r){const n=s.isSelectorComplex(t)?this.getDelegateContainsFactory(e,t):this.getDelegateMatchFactory(e,t);return t=>{if(t.target.isSameNode(e))return;const s=n(t.target);return s?(t.delegateTarget=s,r(t)):void 0}},getDelegateContainsFactory(e,t){return s=>{const r=this.find(e,t);return!!r.length&&(r.includes(s)?s:this.closest(s,e=>r.contains(e),e))}},getDelegateMatchFactory(e,t){return s=>s.matches(t)?s:this.closest(s,e=>e.matches(t),e)},mouseDragFactory(t,s,r,n=!0){return s&&n&&(s=this.animationEventFactory(e,"mousemove",s)),n=>{t&&!1===t(n)||(s&&this.addEvent(e,"mousemove",s),this.addEventOnce(e,"mouseup",t=>{s&&this.removeEvent(e,"mousemove",s),r&&r(t)}))}},selfDestructFactory(e,t,s){const r=n=>(this.removeEvent(e,t,r),s(n));return r}}),Object.assign(s.prototype,{parseHTML(e){const t=this.create("template");return this.html(t,e),this.contents(t)},parseQuery(e,r=!0,n=!1,i=!1){return e&&!t.isString(e)?s.nodeArray(e,r,n,i):e&&e.match(s.htmlRegex)?this.parseHTML(e):this.find(this.context,e||"*")},parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")}),s.fastRegex=/^\s*([\#\.]?)([\w\-]+)\s*$/,s.specialRegex=/^\s*([\>\+\~])(.*)$/,s.subRegex=/^\s*((?:[\w\#\.\:\-]|(?:\[(?:[^\[\]]*|\[[^\[\]]*\])*\]))*)\s*(.*)$/,s.splitRegex=/\s*((?:[\w\#\.\:\-]|\[(?:[^\[\]]*|\[[^\[\]]*\])*\]|[\s\>\~\+])+)\s*\,?/,s.htmlRegex=/^\s*\</,s.cssNumberProperties=["fontWeight","lineHeight","opacity","orphans","widows","zIndex"],s.ajaxDefaults={beforeSend:!1,cache:!1,contentType:"application/x-www-form-urlencoded",data:!1,dataType:!1,headers:{},method:!1,processData:!0},Object.assign(t,{flattenArray(e){return e.reduce((e,t)=>Array.isArray(t)?e.concat(...this.flattenArray(t)):arr.concat(t),[])},uniqueArray:e=>[...new Set(e)]}),Object.assign(t,{clamp:(e,t=0,s=1)=>Math.max(t,Math.min(s,e)),clampPercent(e){return this.clamp(e,0,100)},dist(e,t,s,r){return this.len(e-s,t-r)},len:(e,t)=>Math.hypot(e,t),lerp:(e,t,s)=>e*(1-s)+t*s,linearPercent(e,t,s){return e===t?0:this.clampPercent(100*(s-e)/(t-e))},linearValue(e,t,s){return this.clamp(e+s/100*(t-e),e,t)},logPercent(e,t,s){if(e===t)return 0;const r=e?Math.log(e):0;return this.clampPercent(100*((s?Math.log(s):0)-r)/(Math.log(t)-r))},logValue(e,t,s){const r=e?Math.log(e):0;return this.clamp(Math.exp(r+(Math.log(t)-r)*s/100),e,t)},map:(e,t,s,r,n)=>(e-t)*(n-r)/(s-t)+r,toStep:(e,t)=>Math.round(e/t)*t}),Object.assign(t,{camelCase:e=>""+e.replace(/(\-[a-z])/g,e=>e.toUpperCase()).replace("-",""),snakeCase:e=>""+e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())}),Object.assign(t,{isArray:e=>Array.isArray(e),isBoolean:e=>e===!!e,isFunction:e=>"function"==typeof e,isNumeric:e=>!isNaN(parseFloat(e))&&isFinite(e),isObject:e=>e instanceof Object,isString:e=>e===""+e,isWindow:e=>e instanceof Window});class r{constructor(e){this.nodes=i.parseQuery(e,!0,!0,!0),this.stack=[]}delay(e){return this.queue(()=>new Promise(t=>setTimeout(t,e)))}each(e){return this.nodes.forEach(e),this}eq(e){return this.pushStack(this.get(e))}filter(e){return this.pushStack(this.nodes.filter(e))}first(){return this.eq(0)}get(e){return e?e<0?this.nodes[e+this.nodes.length]:this.nodes[e]:this.nodes}last(){return this.eq(-1)}map(e){return this.nodes.map(e),this}popStack(){return this.nodes=this.stack.pop()||[],this}pushStack(e){return this.stack.push(this.nodes.slice()),this.nodes=e,this}slice(){return this.pushStack(this.nodes.slice(...arguments))}}class n extends r{constructor(){super(...arguments)}pushStack(e){return new n(e)}}Object.assign(r.prototype,{animate(e,t){return this.queue(s=>i.animate(s,e,t))},stop(e=!0){return i.stop(this.nodes,e),this.clearQueue()}}),Object.assign(r.prototype,{dropIn(e=1e3){return this.queue(t=>i.dropIn(t,e))},dropOut(e=1e3){return this.queue(t=>i.dropOut(t,e))},fadeIn(e=1e3){return this.queue(t=>i.fadeIn(t,e))},fadeOut(e=1e3){return this.queue(t=>i.fadeOut(t,e))},rotateIn(e=0,t=1,s=!1,r=1e3){return this.queue(n=>i.rotateIn(n,e,t,s,r))},rotateOut(e=0,t=1,s=!1,r=1e3){return this.queue(n=>i.rotateOut(n,e,t,s,r))},slideIn(e="bottom",t=1e3){return this.queue(s=>i.slideIn(s,e,t))},slideOut(e="bottom",t=1e3){return this.queue(s=>i.slideOut(s,e,t))},squeezeIn(e="bottom",t=1e3){return this.queue(s=>i.squeezeIn(s,e,t))},squeezeOut(e="bottom",t=1e3){return this.queue(s=>i.squeezeOut(s,e,t))}}),Object.assign(r.prototype,{clearQueue(){return i.clearQueue(this.nodes),this},queue(e){return i.queue(this.nodes,e),this}}),Object.assign(r.prototype,{getAttribute(e){return i.getAttribute(this.nodes,e)},getDataset(e){return i.getDataset(this.nodes,e)},getHTML(){return i.getHTML(this.nodes)},getProp(e){return i.getAttribute(this.nodes,e)},getText(){return i.getText(this.nodes)},getValue(){return i.getValue(this.nodes)},removeAttribute(e){return i.removeAttribute(this.nodes,e),this},removeProp(e){return i.removeProp(this.nodes,e),this},setAttribute(e,t){return i.setAttribute(this.nodes,e,t),this},setDataset(e,t){return i.setDataset(this.nodes,e,t),this},setHTML(e){return i.setHTML(this.nodes,e),this},setProp(e,t){return i.setProperty(this.nodes,e,t),this},setText(e){return i.setText(this.nodes,e),this},setValue(e){return i.setValue(this.nodes,e),this}}),Object.assign(r.prototype,{getData(e){return i.getData(this.nodes,e)},removeData(e){return i.removeData(this.nodes,e),this},setData(e,t){return i.setData(this.nodes,e,t),this}}),Object.assign(r.prototype,{center(e){return i.center(this.nodes,e)},constrain(e){return i.constrain(this.nodes,e)},distTo(e,t){return i.distTo(this.nodes,e,t)},distToNode(e){return i.distToNode(this.nodes,e)},nearestTo(e,t){return i.nearestTo(this.nodes,e,t)},nearestToNode(e){return i.nearestToNode(this.nodes,e)},percentX(e){return i.percentX(this.nodes,e)},percentY(e){return i.percentY(this.nodes,e)},position(e){return i.position(this.nodes,e)},rect(e){return i.rect(this.nodes,e)}}),Object.assign(r.prototype,{scrollTo(e,t){return i.scrollTo(this.nodes,e,t),this},scrollToX(e){return i.scrollToX(this.nodes,e),this},scrollToY(e){return i.scrollToY(this.nodes,e),this},scrollX(){return i.scrollX(this.nodes)},scrollY(){return i.scrollY(this.nodes)}}),Object.assign(r.prototype,{height(e,t,s){return i.height(this.nodes,e,t,s)},width(e,t,s){return i.width(this.nodes,e,t,s)}}),Object.assign(r.prototype,{addClass(...e){return i.addClass(this.nodes,...e),this},css(e){return i.css(this.nodes,e)},getStyle(e){return i.getStyle(this.nodes,e)},hide(e=0){return e>0?this.fadeOut(e).queue(e=>i.hide(e)):(i.hide(this.nodes),this)},removeClass(...e){return i.removeClass(this.nodes,...e),this},setStyle(e,t){return i.setStyle(this.nodes,e,t),this},show(e=0){return e>0?this.queue(t=>{i.show(nodes),i.fadeIn(t,e)}):(i.show(this.nodes),this)},toggle(){return i.toggle(this.nodes),this},toggleClass(...e){return i.toggleClass(this.nodes,...e),this}}),Object.assign(r.prototype,{addEvent(e,t,s){return i.addEvent(this.nodes,e,t,s),this},addEventOnce(e,t,s){return i.addEvent(this.nodes,e,t,s,!0),this},cloneEvents(e){return i.cloneEvents(this.nodes,e),this},removeEvent(e,t,s){return i.removeEvent(this.nodes,e,t,s),this},triggerEvent(e,t){return i.triggerEvent(this.nodes,e,t),this}}),Object.assign(r.prototype,{after(e){return i.after(this.nodes,e),this},append(e){return i.append(this.nodes,e),this},appendTo(e){return i.appendTo(this.nodes,e),this},before(e){return i.before(this.nodes,e),this},clone(e=!0,t=!1){return this.pushStack(i.clone(this.nodes,e,t))},detach(){return i.detach(this.nodes),this},empty(){return i.empty(this.nodes),this},insertAfter(e){return i.insertAfter(this.nodes,e),this},insertBefore(e){return i.insertBefore(this.nodes,e),this},prepend(e){return i.prepend(this.nodes,e),this},prependTo(e){return i.prependTo(this.nodes,e),this},remove(){return i.remove(this.nodes),this},replaceAll(e){return i.replaceAll(this.nodes,e),this},replaceWith(e){return i.replaceWith(this.nodes,e),this},unwrap(e){return i.unwrap(this.nodes,e),this},wrap(e){return i.wrap(this.nodes,e),this},wrapAll(e){return i.wrapAll(this.nodes,e),this},wrapInner(e){return i.wrapInner(this.nodes,e),this}}),Object.assign(r.prototype,{hasAttribute(e){return i.hasAttribute(this.nodes,e)},hasClass(...e){return i.hasClass(this.nodes,...e)},hasData(e){return i.hasData(this.nodes,e)},hasProperty(e){return i.hasProperty(this.nodes,e)},isFixed(){return i.isFixed(this.nodes)},isHidden(){return i.isHidden(this.nodes)},isVisible(){return i.isVisible(this.nodes)}}),Object.assign(r.prototype,{filter(e){return this.pushStack(i.filter(this.nodes,e))},filterOne(e){return this.pushStack(i.filterOne(this.nodes,e))},has(e){return this.pushStack(i.has(this.nodes,e))},hidden(){return this.pushStack(i.hidden(this.nodes))},not(e){return this.pushStack(i.not(this.nodes,e))},visible(){return this.pushStack(i.visible(this.nodes))}}),Object.assign(r.prototype,{find(e){return this.pushStack(i.find(this.nodes,e))},findByClass(e){return this.pushStack(i.findByClass(this.nodes,e))},findById(e){return this.pushStack(i.findById(this.nodes,e))},findByTag(e){return this.pushStack(i.findByTag(this.nodes,e))},findOne(e){return this.pushStack(i.findOne(this.nodes,e))},findOneByClass(e){return this.pushStack(i.findOneByClass(this.nodes,e))},findOneById(e){return this.pushStack(i.findOneById(this.nodes,e))},findOneByTag(e){return this.pushStack(i.findOneByTag(this.nodes,e))}}),Object.assign(r.prototype,{closest(e,t){return this.pushStack(i.closest(this.nodes,e,t))},child(e){return this.pushStack(i.child(this.nodes,e))},children(e){return this.pushStack(i.children(this.nodes,e))},contents(){return this.pushStack(i.contents(this.nodes))},next(e){return this.pushStack(i.next(this.nodes,e))},nextAll(e,t=!1,s=!1){return this.pushStack(i.nextAll(this.nodes,e,t,s))},offsetParent(){return this.pushStack(i.offsetParent(this.nodes))},parent(e){return this.pushStack(i.parent(this.nodes,e))},parents(e,t){return this.pushStack(i.parents(this.nodes,e,t))},prev(e){return this.pushStack(i.prev(this.nodes,e))},prevAll(e,t=!1,s=!1){return this.pushStack(i.prevAll(this.nodes,e,t,s))},siblings(e){return this.pushStack(i.siblings(this.nodes,e))}}),Object.assign(r.prototype,{forceShow(e){return i.forceShow(this.nodes,e)},index(e){return i.index(this.nodes,e)},indexOf(){return i.indexOf(this.nodes)},serialize(){return i.serialize(this.nodes)},serializeArray(){return i.serializeArray(this.nodes)},serializeObject(){return i.serializeObject(this.nodes)}}),t.QuerySet=r,t.QuerySetImmutable=n;const i=new s;return{frost:t,Core:s,core:i,$:i.query}});