"use strict";function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e(t):Object.assign(t,e(t))}(window,function(t){var e=function(){function e(n){_classCallCheck(this,e),this.context=n||t.document,this.animating=!1,this.animations=new Map,this.queues=new WeakMap,this.nodeData=new WeakMap,this.nodeEvents=new WeakMap,this.nodeStyles=new WeakMap}return _createClass(e,[{key:"exec",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.context.execCommand(t,e,n)}},{key:"query",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.isFunction(t)?this.ready(t):i?new n(t,this):new r(t,this)}}]),e}();Object.assign(e.prototype,{animate:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now(),s=[];return this.nodeArray(t).forEach(function(t){r.animations.has(t)||r.animations.set(t,[]);var a=new Promise(function(s,a){r.animations.get(t).push(function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!core.contains(r.context,t)||u&&!c)return a(t),!0;var h=c?1:e.clamp((Date.now()-o)/i);return n(t,h),1===h?(s(t),!0):void 0})});s.push(a)}),s.length&&!this.animating&&(this.animating=!0,this._animationFrame()),Promise.all(s)},stop:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.nodeArray(t).forEach(function(t){e.animations.has(t)&&(e.animations.get(t).forEach(function(t){return t(!0,n)}),e.animations.delete(t))})},_animationFrame:function(){var e=this,n=[];this.animations.forEach(function(t,e){var r=[];t.forEach(function(t,e){t()&&r.push(e)}),r.length&&((t=t.filter(function(t,e){return!r.includes(e)})).length||n.push(e))}),n.forEach(function(t){return e.animations.delete(t)}),this.animations.size?t.requestAnimationFrame(function(){return e._animationFrame()}):this.animating=!1}}),Object.assign(e.prototype,{dropIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.slideIn(t,"top",e)},dropOut:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.slideOut(t,"top",e)},fadeIn:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.animate(t,function(t,n){return e.setStyle(t,"opacity",n<1?n:"")},n)},fadeOut:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.animate(t,function(t,n){return e.setStyle(t,"opacity",n<1?1-n:"")},n)},rotateIn:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;return this.animate(t,function(t,o){return e.setStyle(t,"transform",o<1?"rotate3d(".concat(n,", ").concat(r,", 0, ").concat((90-90*o)*(i?-1:1),"deg)"):"")},o)},rotateOut:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;return this.animate(t,function(t,o){return e.setStyle(t,"transform",o<1?"rotate3d(".concat(n,", ").concat(r,", 0, ").concat(90*o*(i?-1:1),"deg)"):"")},o)},slideIn:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return this.animate(t,function(t,i){var o,s,a;if(i<1){var u=e.isFunction(r)?r():r;"top"===u||"bottom"===u?(o="Y",s=n.height(t),a="top"===u):(o="X",s=n.width(t),a="left"===u)}n.setStyle(t,"transform",i<1?"translate".concat(o,"(").concat(Math.round(s-s*i)*(a?-1:1),"px)"):"")},i)},slideOut:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return this.animate(t,function(t,i){var o,s,a;if(i<1){var u=e.isFunction(r)?r():r;"top"===u||"bottom"===u?(o="Y",s=n.height(t),a="top"===u):(o="X",s=n.width(t),a="left"===u)}n.setStyle(t,"transform",i<1?"translate".concat(o,"(").concat(Math.round(s*i)*(a?-1:1),"px)"):"")},i)},squeezeIn:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return this.animate(t,function(t,i){if(n.setStyle(t,{overflow:"",height:"",width:"",marginTop:"",marginLeft:""}),1!==i){var o,s,a=e.isFunction(r)?r():r;"top"===a||"bottom"===a?(o="height","top"===a&&(s="marginTop")):"left"!==a&&"right"!==a||(o="width","left"===a&&(s="marginLeft"));var u=Math.round(n[o](t,!0)),c=Math.round(u*i),h=_defineProperty({overflow:"hidden"},o,c);s&&(h[s]=u-c),n.setStyle(t,h)}},i)},squeezeOut:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return this.animate(t,function(t,i){if(n.setStyle(t,{overflow:"",height:"",width:"",marginTop:"",marginLeft:""}),1!==i){var o,s,a=e.isFunction(r)?r():r;"top"===a||"bottom"===a?(o="height","top"===a&&(s="marginTop")):"left"!==a&&"right"!==a||(o="width","left"===a&&(s="marginLeft"));var u=Math.round(n[o](t,!0)),c=Math.round(u-u*i),h=_defineProperty({overflow:"hidden"},o,c);s&&(h[s]=u-c),n.setStyle(t,h)}},i)}}),Object.assign(e.prototype,{queue:function(t,e){var n=this;this.nodeArray(t).forEach(function(t){var r=!n.queues.has(t);r&&n.queues.set(t,[]),n.queues.get(t).push(e),r&&n._dequeue(t)})},clearQueue:function(t){var e=this;this.nodeArray(t).forEach(function(t){return e.queues.has(t)&&e.queues.delete(t)})},_dequeue:function(t){var e=this;this.nodeArray(t).forEach(function(t){if(e.queues.has(t)){var n=e.queues.get(t).shift();n?Promise.resolve(n(t)).finally(function(){return e._dequeue(t)}):e.queues.delete(t)}})}}),Object.assign(e.prototype,{getAttribute:function(t,e){var n=this.nodeFirst(t);if(n)return n.getAttribute(e)},setAttribute:function(t,n,r){var i=e._parseData(n,r),o=Object.keys(i);this.nodeArray(t).forEach(function(t){return o.forEach(function(e){return t.setAttribute(e,i[e])})})},removeAttribute:function(t,e){this.nodeArray(t).forEach(function(t){return t.removeAttribute(e)})},getDataset:function(t,e){var n=this.nodeFirst(t);if(n)return e?n.dataset[e]:n.dataset},setDataset:function(t,n,r){var i=e._parseData(n,r);this.nodeArray(t).forEach(function(t){return Object.assign(t.dataset,i)})},getHTML:function(t){return this.getProperty(t,"innerHTML")},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},getProperty:function(t,e){var n=this.nodeFirst(t);if(n)return n[e]},setProperty:function(t,n,r){var i=e._parseData(n,r);this.nodeArray(t).forEach(function(t){return Object.assign(t,i)})},removeProperty:function(t,e){this.nodeArray(t).forEach(function(t){delete t[e]})},getText:function(t){return this.getProperty(t,"innerText")},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},getValue:function(t){return this.getProperty(t,"value")},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(e.prototype,{getData:function(t,e){var n=this.nodeFirst(t,!1,!0,!0);if(n&&this.nodeData.has(n))return e?this.nodeData.get(n)[e]:this.nodeData.get(n)},setData:function(t,n,r){var i=this,o=e._parseData(n,r);this.nodeArray(t,!1,!0,!0).forEach(function(t){i.nodeData.has(t)||i.nodeData.set(t,{}),Object.assign(i.nodeData.get(t),o)})},removeData:function(t,e){var n=this;this.nodeArray(t,!1,!0,!0).forEach(function(t){if(n.nodeData.has(t)){if(e){var r=n.nodeData.get(t);if(delete r[e],Object.keys(r).length)return}n.nodeData.delete(t)}})}}),Object.assign(e.prototype,{center:function(t,e){var n=this.rect(t,e);if(n)return{x:n.left+n.width/2,y:n.top+n.height/2}},position:function(t,e){var n=this.nodeFirst(t);if(n)return this.forceShow(n,function(t){var n={x:t.offsetLeft,y:t.offsetTop};if(e)for(var r=t;r=r.offsetParent;)n.x+=r.offsetLeft,n.y+=r.offsetTop;return n})},rect:function(e,n){var r=this,i=this.nodeFirst(e);if(i)return this.forceShow(i,function(e){var i=e.getBoundingClientRect();return n&&(i.x+=r.getScrollX(t),i.y+=r.getScrollY(t)),i})},constrain:function(t,e){var n=this,r=this.rect(e);r&&this.nodeArray(t).forEach(function(t){var e=n.rect(t);e.height>r.height&&n.setStyle(t,"height",r.height),e.width>r.width&&n.setStyle(t,"width",r.width),e.top<r.top&&n.setStyle(t,"top",r.top),e.right>r.right&&n.setStyle(t,"left",r.right-e.width),e.bottom>r.bottom&&n.setStyle(t,"top",r.bottom-e.height),e.left<r.left&&n.setStyle(t,"left",r.left)})},distTo:function(t,n,r,i){var o=this.center(t,i);if(o)return e.dist(o.x,o.y,n,r)},distToNode:function(t,e){var n=this.center(e);if(n)return this.distTo(t,n.x,n.y)},nearestTo:function(t,e,n,r){var i=this,o=null,s=Number.MAX_VALUE;return this.nodeArray(t).forEach(function(t){var a=i.distTo(t,e,n,r);a&&a<s&&(s=a,o=t)}),o},nearestToNode:function(t,e){var n=this.center(e);if(n)return this.nearestTo(t,n.x,n.y)},percentX:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.left)/i.width*100)},percentY:function(t,n,r){var i=this.rect(t,r);if(i)return e.clampPercent((n-i.top)/i.height*100)}}),Object.assign(e.prototype,{getScrollX:function(t){var n=this.nodeFirst(t,!0,!0,!0);if(n)return e.isWindow(n)?n.scrollX:(e.isDocument(n)&&(n=n.scrollingElement),n.scrollLeft)},getScrollY:function(t){var n=this.nodeFirst(t,!0,!0,!0);if(n)return e.isWindow(n)?n.scrollY:(e.isDocument(n)&&(n=n.scrollingElement),n.scrollTop)},setScroll:function(t,n,r){this.nodeArray(t,!0,!0,!0).forEach(function(t){if(e.isWindow(t))return t.scroll(n,r);e.isDocument(t)&&(t=t.scrollingElement),t.scrollLeft=n,t.scrollTop=r})},setScrollX:function(t,n){this.nodeArray(t,!0,!0,!0).forEach(function(t){if(e.isWindow(t))return t.scroll(n,t.scrollY);e.isDocument(t)&&(t=t.scrollingElement),t.scrollLeft=n})},setScrollY:function(t,n){this.nodeArray(t,!0,!0,!0).forEach(function(t){if(e.isWindow(t))return t.scroll(t.scrollX,n);e.isDocument(t)&&(t=t.scrollingElement),t.scrollTop=n})}}),Object.assign(e.prototype,{height:function(t,n,r,i){var o=this,s=this.nodeFirst(t,!0,!0,!0);if(s)return e.isWindow(s)?n?s.outerHeight:s.innerHeight:(e.isDocument(s)&&(s=s.documentElement),this.forceShow(s,function(t){var e=t.clientHeight;return n||(e-=parseInt(o.css(t,"padding-top"))+parseInt(o.css(t,"padding-bottom"))),r&&(e+=parseInt(o.css(t,"border-top-width"))+parseInt(o.css(t,"border-bottom-width"))),i&&(e+=parseInt(o.css(t,"margin-top"))+parseInt(o.css(t,"margin-bottom"))),e}))},width:function(t,n,r,i){var o=this,s=this.nodeFirst(t,!0,!0,!0);if(s)return e.isWindow(s)?n?s.outerWidth:s.innerWidth:(e.isDocument(s)&&(s=s.documentElement),this.forceShow(s,function(t){var e=t.clientWidth;return n||(e-=parseInt(o.css(t,"padding-left"))+parseInt(o.css(t,"padding-right"))),r&&(e+=parseInt(o.css(t,"border-left-width"))+parseInt(o.css(t,"border-right-width"))),i&&(e+=parseInt(o.css(t,"margin-left"))+parseInt(o.css(t,"margin-right"))),e}))}}),Object.assign(e.prototype,{addClass:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(r=e._parseClasses(r)).length&&this.nodeArray(t).forEach(function(t){var e;return(e=t.classList).add.apply(e,_toConsumableArray(r))})},removeClass:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(r=e._parseClasses(r)).length&&this.nodeArray(t).forEach(function(t){var e;return(e=t.classList).remove.apply(e,_toConsumableArray(r))})},toggleClass:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(r=e._parseClasses(r)).length&&this.nodeArray(t).forEach(function(t){return r.forEach(function(e){return t.classList.toggle(e)})})},getStyle:function(t,n){var r=this.nodeFirst(t);if(r)return n=e.snakeCase(n),r.style[n]},setStyle:function(t,n,r,i){e.isObject(n)&&(i=r);var o=e._parseData(n,r),s={};Object.keys(o).forEach(function(t){var n=""+o[t];t=e.snakeCase(t),n&&e.isNumeric(n)&&!e.cssNumberProperties.includes(t)&&(n+="px"),s[t]=n}),i=i?"important":"",this.nodeArray(t).forEach(function(t){return Object.keys(s).forEach(function(e){return t.style.setProperty(e,s[e],i)})})},css:function(e,n){var r=this.nodeFirst(e);if(r)return this.nodeStyles.has(r)||this.nodeStyles.set(r,t.getComputedStyle(r)),this.nodeStyles.get(r).getPropertyValue(n)},hide:function(t){this.setStyle(t,"display","none")},show:function(t){this.setStyle(t,"display","")},toggle:function(t){var e=this;this.nodeArray(t).forEach(function(t){return"none"===e.getStyle(t,"display")?e.show(t):e.hide(t)})}}),Object.assign(e.prototype,{create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.context.createElement(t);return e.html?this.setHTML(n,e.html):e.text&&this.setText(n,e.text),e.classes&&this.addClass(n,e.classes),e.styles&&this.setStyle(n,e.styles),e.value&&this.setValue(n,e.value),e.attributes&&this.setAttribute(n,e.attributes),e.properties&&this.setProperty(nodes,e.properties),n},createComment:function(t){return this.context.createComment(t)},createText:function(t){return this.context.createTextNode(t)}}),Object.assign(e.prototype,{addEvent:function(t,n,r,i){var o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.isFunction(r)&&(e.isBoolean(i)&&(s=i),i=r,r=!1);var a=e._parseEvents(n);this.nodeArray(t,!0,!0,!0).forEach(function(t){var u=i;s&&(u=o._selfDestructFactory(t,n,u)),r&&(u=o._delegateFactory(t,r,u)),o.nodeEvents.has(t)||o.nodeEvents.set(t,{});var c=o.nodeEvents.get(t),h={delegate:r,callback:i,realCallback:u};a.forEach(function(n){var r=e._parseEvent(n);if(h.event=n,h.realEvent=r,c[r]){if(c[r].includes(h))return}else c[r]=[];t.addEventListener(r,u),c[r].push(h)})})},addEventOnce:function(t,e,n,r){return this.addEvent(t,e,n,r,!0)},removeEvent:function(t,n,r,i){var o=this;r&&e.isFunction(r)&&(i=r,r=!1);var s=!!n&&e._parseEvents(n);this.nodeArray(t,!0,!0,!0).forEach(function(t){if(o.nodeEvents.has(t)){var n=o.nodeEvents.get(t);s||(s=Object.keys(n)),s.forEach(function(o){var s=e._parseEvent(o);if(n[s]){var a=n[s],u=[];a.forEach(function(e,n){if(s===o){if(s!==e.realEvent)return}else if(o!==e.event)return;if(r){if(r!==e.delegate||i&&i!==e.callback)return}else if(i&&i!==e.realCallback)return;t.removeEventListener(e.realEvent,e.realCallback),u.push(n)}),(a=a.filter(function(t,e){return!u.includes(e)})).length||delete n[s]}}),Object.keys(n).length||o.nodeEvents.delete(t)}})},triggerEvent:function(t,n,r){this.nodeArray(t,!0,!0,!0).forEach(function(t){return e._parseEvents(n).forEach(function(n){var i=e._parseEvent(n),o=new Event(i);r&&Object.assign(o,r),t.dispatchEvent(o)})})},cloneEvents:function(t,e){var n=this;this.nodeArray(t,!0,!0,!0).forEach(function(t){n.nodeEvents.has(t)&&n.nodeEvents.get(t).forEach(function(t){n.addEvent(e,t.event,t.delegate,t.callback)})})},blur:function(t){var e=this.nodeFirst(t);e&&e.blur()},click:function(t){var e=this.nodeFirst(t);e&&e.click()},focus:function(t){var e=this.nodeFirst(t);e&&e.focus()},ready:function(e){"complete"===this.context.readyState?e():this.addEvent(t,"DOMContentLoaded",e)}}),Object.assign(e.prototype,{clone:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return this.nodeArray(t,!1).forEach(function(t){var o=t.cloneNode(n);if(r&&(e.cloneEvents(t,o),e.cloneData(t,o),n)){var s=e.find(t,"*");e.find(o,"*").forEach(function(t,n){e.cloneEvents(s[n],t),e.cloneData(s[n],t)})}i.push(o)}),i},detach:function(t){this.nodeArray(t,!1).forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})},empty:function(t){this.remove(this.find(t,"*"),!1),this.setProperty(t,"innerHTML","")},remove:function(t){var e=this;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.empty(t),this.clearQueue(t),this.stop(t),this.removeEvent(t),this.removeData(t),this.nodeArray(t).forEach(function(t){return e.nodeStyles.has(t)&&e.nodeStyles.delete(t)}),this.detach(t)},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){var n=this;e=this._parseQuery(e,!1),this.nodeArray(t,!1).forEach(function(t){n.before(t,n.clone(e,!0)),n.remove(t)})}}),Object.assign(e.prototype,{after:function(t,e){var n=this.nodeFirst(t,!1);n&&n.parentNode&&this._parseQuery(e).reverse().forEach(function(t){return n.parentNode.insertBefore(t,n.nextSibling)})},insertAfter:function(t,e){this.after(e,t)},before:function(t,e){var n=this.nodeFirst(t,!1);n&&n.parentNode&&this._parseQuery(e,!1).forEach(function(t){return n.parentNode.insertBefore(t,n)})},insertBefore:function(t,e){this.before(e,t)},append:function(t,e){var n=this.nodeFirst(t);n&&this._parseQuery(e,!1).forEach(function(t){return n.insertBefore(t,null)})},appendTo:function(t,e){this.append(e,t)},prepend:function(t,e){var n=this.nodeFirst(t);n&&this._parseQuery(e,!1).reverse().forEach(function(t){return n.insertBefore(t,n.firstChild)})},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(e.prototype,{unwrap:function(t,e){var n=this;this.nodeArray(t,!1).forEach(function(t){var r=n.parent(t,e);r&&(n.before(r,n.contents(r)),n.remove(r))})},wrap:function(t,e){var n=this;e=this._parseQuery(e),this.nodeArray(t,!1).forEach(function(t){var r=n.clone(e,!0);n.before(t,r),n.append(n.filterOne(n.find(r,"*"),function(t){return!n.child(t)})||r,t)})},wrapAll:function(t,e){var n=this;e=this._parseQuery(e);var r=this.clone(e,!0);this.before(t,r),this.append(this.filterOne(this.find(r,"*"),function(t){return!n.child(t)})||r,t)},wrapInner:function(t,e){var n=this;e=this._parseQuery(e),this.nodeArray(t,!1).forEach(function(t){var r=n.clone(e,!0);n.append(t,r),n.append(n.filterOne(n.find(r,"*"),function(t){return!n.child(t)})||r,n.contents(t))})}}),Object.assign(e.prototype,{filter:function(t,e){return e=this._parseFilter(e),this.nodeArray(t).filter(function(t,n){return!e||e(t,n)})},filterOne:function(t,e){return e=this._parseFilter(e),this.nodeArray(t).find(function(t,n){return!e||e(t,n)})||null},not:function(t,e){return e=this._parseFilter(e),this.nodeArray(t).filter(function(t,n){return e&&!e(t,n)})},has:function(t,e){return e=this._parseFilterContains(e),this.nodeArray(t,!0,!0).filter(function(t){return!e||e(t)})},hidden:function(t){var e=this;return this.nodeArray(t,!1,!0,!0).filter(function(t){return e.isHidden(t)})},visible:function(t){var e=this;return this.nodeArray(t,!1,!0,!0).filter(function(t){return e.isVisible(t)})}}),Object.assign(e.prototype,{find:function(t,n){n||(n=t,t=this.context);var r=_slicedToArray(e._parseSelector(n),2),i=r[0],o=r[1];return"#"===i?this.findById(t,o):"."===i?this.findByClass(t,o):i?this.findByTag(t,o):e.isSelectorComplex(n)?this._findByCustom(t,n):this.findSelector(t,n)},findOne:function(t,n){n||(n=t,t=this.context);var r=_slicedToArray(e._parseSelector(n),2),i=r[0],o=r[1];return"#"===i?this.findOneById(t,o):"."===i?this.findOneByClass(t,o):i?this.findOneByTag(t,o):e.isSelectorComplex(n)?this._findOneByCustom(t,n):this.findOneSelector(t,n)},findByClass:function(t,e){e||(e=t,t=this.context);var n=new Set;return this.nodeArray(t,!0,!0).forEach(function(t){return Array.from(t.getElementsByClassName(e)).forEach(function(t){return n.add(t)})}),this.sortNodes(_toConsumableArray(n))},findOneByClass:function(t,e){return this.findByClass(t,e).shift()||null},findById:function(t,e){e||(e=t,t=this.context);var n=new Set;return this.nodeArray(t,!0,!0).forEach(function(t){return n.add(t.getElementById(e))}),this.sortNodes(_toConsumableArray(n).filter(function(t){return!!t}))},findOneById:function(t,e){return this.findById(t,e).shift()||null},findByTag:function(t,e){e||(e=t,t=this.context);var n=new Set;return this.nodeArray(t,!0,!0).forEach(function(t){return Array.from(t.getElementsByTagName(e)).forEach(function(t){return n.add(t)})}),this.sortNodes(_toConsumableArray(n))},findOneByTag:function(t,e){return this.findByTag(t,e).shift()||null},findSelector:function(t,e){var n=new Set;return this.nodeArray(t,!0,!0).forEach(function(t){return Array.from(t.querySelectorAll(e)).forEach(function(t){return n.add(t)})}),this.sortNodes(_toConsumableArray(n))},findOneSelector:function(t,e){var n=new Set;return this.nodeArray(t,!0,!0).forEach(function(t){return n.add(t.querySelector(e))}),this.sortNodes(_toConsumableArray(n).filter(function(t){return!!t})).shift()||null},_findByCustom:function(t,n){var r=this,i=new Set;return e._parseSelector(n).forEach(function(n){var o=_slicedToArray(n,2),s=o[0],a=o[1],u=[];if("#"===s)u=r.findById(t,a);else if("."===s)u=r.findByClass(t,a);else if(!0===s)u=r.findByTag(t,a);else if(s){if([">","+","~"].includes(s)){var c=_slicedToArray(e._parseSubQuery(a),2),h=c[0],f=c[1];">"===s?u=r.children(t,h):"+"===s?u=r.next(t,h):"~"===s&&(u=r.nextAll(t,h)),u.length&&f&&(u=r.find(u,f))}}else u=r.findSelector(t,a);u.forEach(function(t){return i.add(t)})}),this.sortNodes(_toConsumableArray(i))},_findOneByCustom:function(t,n){var r=this,i=new Set;return e._parseSelectors(n).forEach(function(n){var o,s=_slicedToArray(n,2),a=s[0],u=s[1];if("#"===a)o=r.findOneById(t,u);else if("."===a)o=r.findOneByClass(t,u);else if(!0===a)o=r.findOneByTag(t,u);else if(a){if([">","+","~"].includes(a)){var c=_slicedToArray(e._parseSubQuery(u),2),h=c[0],f=c[1];">"===a?o=r.child(t,h):"+"===a?o=r.next(t,h):"~"===a&&(o=r.nextAll(t,h,!1,!0)),i.length&&f&&(o=r.findOne(o,f)),o=r.nodeArray(o).shift()}}else o=r.findOneSelector(t,u);o&&i.add(o)}),this.sortNodes(_toConsumableArray(i)).shift()||null}}),Object.assign(e.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n=this._parseFilter(n);var s=new Set;this.nodeArray(t).forEach(function(t){return r.nodeArray(t.childNodes,o).forEach(function(t){if(!n||n(t))return s.add(t),!i})});var a=this.sortNodes(_toConsumableArray(s));return i&&e.isNode(t)?a.shift()||null:a},contents:function(t){return this.children(t,!1,!1,!1)},closest:function(t,e,n){return this.parents(t,e,n,!0)},parent:function(t,n){n=this._parseFilter(n);var r=new Set;this.nodeArray(t,!1).forEach(function(t){t.parentNode&&(n&&!n(t.parentNode)||r.add(t.parentNode))});var i=this.sortNodes(_toConsumableArray(r));return e.isNode(t)?i.shift()||null:i},parents:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=this._parseFilter(n),r=this._parseFilter(r);var o=new Set;this.nodeArray(t,!1).forEach(function(t){for(;(t=t.parentNode)&&(!r||!r(t));)if((!n||n(t))&&(o.add(t),i))return});var s=this.sortNodes(_toConsumableArray(o));return i&&e.isNode(t)?s.shift()||null:s},offsetParent:function(t){return this.forceShow(t,function(t){return t.offsetParent})},next:function(t,n){n=this._parseFilter(n);var r=new Set;this.nodeArray(t,!1).forEach(function(t){t.nextSibling&&(n&&!n(t.nextSibling)||r.add(t.nextSibling))});var i=this.sortNodes(_toConsumableArray(r));return e.isNode(t)?i.shift()||null:i},nextAll:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=this._parseFilter(e),n=this._parseFilter(n);var i=new Set;return this.nodeArray(t,!1).forEach(function(t){for(;(t=t.nextSibling)&&(!n||!n(t))&&(e&&!e(t)||(i.add(t),!r)););}),this.sortNodes(_toConsumableArray(i))},prev:function(t,n){n=this._parseFilter(n);var r=new Set;this.nodeArray(t,!1).forEach(function(t){t.previousSibling&&(n&&!n(t.previousSibling)||r.add(t.previousSibling))});var i=this.sortNodes(_toConsumableArray(r));return e.isNode(t)?i.shift()||null:i},prevAll:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=this._parseFilter(e),n=this._parseFilter(n);var i=new Set;return this.nodeArray(t,!1).forEach(function(t){for(;(t=t.previousSibling)&&(!n||!n(t))&&(e&&!e(t)||(i.add(t),!r)););}),this.sortNodes(_toConsumableArray(i))},siblings:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._parseFilter(e);var i=new Set;return this.nodeArray(t,!1).forEach(function(t){t.parentNode&&n.nodeArray(t.parentNode.childNodes,r).forEach(function(n){n.isSameNode(t)||e&&!e(n)||i.add(n)})}),this.sortNodes(_toConsumableArray(i))}}),Object.assign(e.prototype,{hasAttribute:function(t,e){return!!this.nodeArray(t).find(function(t){return t.hasAttribute(e)})},hasClass:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r=e._parseClasses(r),!!this.nodeArray(t).find(function(t){return r.find(function(e){return t.classList.contains(e)})})},hasData:function(t,e){var n=this;return!!this.nodeArray(t,!1,!0,!0).find(function(t){return n.nodeData.has(t)&&(!e||n.nodeData.get(t).hasOwnProperty(e))})},hasProperty:function(t,e){return!!this.nodeArray(t).find(function(t){return t.hasOwnProperty(e)})},contains:function(t,e){return e=this._parseFilterContains(e),!!this.nodeArray(t,!0,!0).find(function(t){return!e||e(t)})},is:function(t,e){return e=this._parseFilter(e),!!this.nodeArray(t).find(function(t){return!e||e(t)})},isConnected:function(t){return!!this.nodeArray(t,!1).find(function(t){return t.isConnected})},isFixed:function(t){var e=this;return!!this.nodeArray(t).find(function(t){return"fixed"===e.css(t,"position")||e.closest(t,function(t){return"fixed"===e.css(t,"position")})})},isHidden:function(t){var n=this;return!!this.nodeArray(t,!1,!0,!0).find(function(t){return e.isWindow(t)?"visible"!==n.context.visibilityState:e.isDocument(t)?"visible"!==t.visibilityState:e.isBody(t)?"none"===n.getStyle(t,"display"):e.isNode(t)?!t.offsetParent:void 0})},isVisible:function(t){var n=this;return!!this.nodeArray(t,!1,!0,!0).find(function(t){return e.isWindow(t)?"visible"===n.context.visibilityState:e.isDocument(t)?"visible"===t.visibilityState:e.isBody(t)?"none"!==n.getStyle(t,"display"):e.isNode(t)?t.offsetParent:void 0})}}),Object.assign(e.prototype,{forceShow:function(t,e){var n=this,r=this.nodeFirst(t,!0,!0,!0);if(r){if(this.isVisible(r))return e(r);var i=[],o=[];"none"===this.css(r,"display")&&(i.push(r),o.push(this.getStyle(r,"display"))),this.parents(r,function(t){return"none"===n.css(t,"display")}).forEach(function(t){i.push(t),o.push(n.getStyle(t,"display"))}),this.setStyle(i,"display","initial",!0);var s=e(r);return i.forEach(function(t,e){return n.setStyle(t,"display",o[e])}),s}},index:function(t,e){return e=this._parseFilter(e),this.nodeArray(t).findIndex(function(t){return!e||e(t)})},indexOf:function(t){var e=this.nodeFirst(t);if(e)return this.children(this.parent(e)).indexOf(e)},select:function(e){var n=this.nodeFirst(e,!1);if(n&&n.select)return n.select();var r=t.getSelection();if(r.rangeCount>0&&r.removeAllRanges(),n){var i=this.context.createRange();i.selectNode(n),r.addRange(i)}},selectAll:function(e){var n=this,r=t.getSelection();r.rangeCount>0&&r.removeAllRanges(),this.nodeArray(e,!1).forEach(function(t){var e=n.context.createRange();e.selectNode(t),r.addRange(e)})},serialize:function(t){return e._parseParams(this.serializeObject(t))},serializeArray:function(t){var e=this.serializeObject(t);return Object.keys(e).map(function(t){return{name:t,value:e[t]}})},serializeObject:function(t){var e=this;return this.nodeArray(t).reduce(function(t,n){if(n.matches("form"))Object.assign(t,e.serializeObject(e.find(n,"input, select, textarea")));else if(!e.is(n,"[disabled], input[type=submit], input[type=reset], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)")){var r=e.getAttribute(n,"name"),i=e.getValue(n);"[]"===r.substring(-2)?(t[r]||(t[r]=[]),t[r].push(i)):t[r]=i}return t},{})}}),Object.assign(e,{flattenArray:function(t){var e=this;return t.reduce(function(t,n){return Array.isArray(n)?t.concat.apply(t,_toConsumableArray(e.flattenArray(n))):t.concat(n)},[])},uniqueArray:function(t){return _toConsumableArray(new Set(t))}}),Object.assign(e,{clamp:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(n,t))},clampPercent:function(t){return this.clamp(t,0,100)},dist:function(t,e,n,r){return this.len(t-n,e-r)},len:function(t,e){return Math.hypot(t,e)},lerp:function(t,e,n){return t*(1-n)+e*n},map:function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r},toStep:function(t,e){return Math.round(t/e)*e},linearPercent:function(t,e,n){return e===n?0:this.clampPercent(100*(t-e)/(n-e))},linearValue:function(t,e,n){return this.clamp(e+t/100*(n-e),e,n)},logPercent:function(t,e,n){return e===n?0:(e=e?Math.log(e):0,this.clampPercent(100*((t?Math.log(t):0)-e)/(Math.log(n)-e)))},logValue:function(t,e,n){return e=e?Math.log(e):0,this.clamp(Math.exp(e+(Math.log(n)-e)*t/100),e,n)}}),Object.assign(e,{makeArray:function(t){return t?this.isArray(t)?t:this.isNodeList(t)||this.isElementList(t)?Array.from(t):this.isQuerySet(t)?t.get():[t]:[]},_nodeFilterFactory:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i){return!e&&t.isNode(i)||e&&t.isElement(i)||n&&t.isDocument(i)||r&&t.isWindow(i)}}}),Object.assign(e.prototype,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"application/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(e,{camelCase:function(t){return""+t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase()}).replace("-","")},snakeCase:function(t){return""+t.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})}}),Object.assign(e,{isArray:function(t){return Array.isArray(t)},isBody:function(t){return t instanceof HTMLBodyElement},isBoolean:function(t){return t===!!t},isDocument:function(t){return t instanceof Document},isElement:function(t){return t instanceof HTMLElement},isElementList:function(t){return t instanceof HTMLCollection},isFunction:function(t){return"function"==typeof t},isNode:function(t){return t instanceof Node},isNodeList:function(t){return t instanceof NodeList},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isPlainObject:function(t){return this.isObject(t)&&t.constructor===Object},isObject:function(t){return t instanceof Object},isQuerySet:function(t){return t instanceof n},isSelectorComplex:function(t){return!!this._parseSelectors(t).find(function(t){return[">","+","~"].includes(t[0])})},isString:function(t){return t===""+t},isWindow:function(t){return t instanceof Window}}),Object.assign(e,{_parseClasses:function(t){return this.uniqueArray(this.flattenArray(t).reduce(function(t,e){return t.concat.apply(t,_toConsumableArray(e.split(" ")))},[]).filter(function(t){return t}))},_parseData:function(t,e){return this.isObject(t)?t:_defineProperty({},t,e)},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_parseFormData:function(t){var e=new FormData;if(this.isArray(t)){var n={};t.forEach(function(t){return n[t.name]=t.value}),t=n}return this._parseFormValues(t,e),e},_parseFormValues:function(t,e,n){var r=this;Object.keys(t).forEach(function(i){var o=t[i];return r.isPlainObject(o)?r._parseFormValues(o,e,i):(n&&(i="".concat(n,"[").concat(i,"]")),r.isArray(o)?void o.forEach(function(t){return e.append(i,t)}):e.set(i,o))})},_parseParams:function(t){var e=this,n=[];return this.isArray(t)?n=t.map(function(t){return e._parseParam(t.name,t.value)}):this.isObject(t)&&(n=Object.keys(t).map(function(n){return e._parseParam(n,t[n])})),this.flattenArray(n).map(encodeURI).join("&")},_parseParam:function(t,e){var n=this;return this.isArray(e)?e.map(function(e){return n._parseParam(t,e)}):this.isObject(e)?Object.keys(e).map(function(r){return n._parseParam(t+"["+r+"]",e[r])}):t+"="+e},_parseSelector:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.match(this.fastRegex);if(n)return n.slice(1);if(!e){var r=t.match(this.specialRegex);if(r)return r.slice(1)}return[!1,t]},_parseSelectors:function(t){var e=this;return this.isArray(t)||(t=t.split(this.splitRegex).filter(function(t){return t})),t.map(function(t){return e._parseSelector(t.trim(),!1)})},_parseSubQuery:function(t){return t.match(this.subRegex).slice(1)}}),Object.assign(e.prototype,{ajax:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.isObject(n)?r=n:(r=r||{}).url=n;var i=_objectSpread({},e.ajaxDefaults,r);return i.url||(i.url=t.location),i.cache&&(i.url+=(i.url.indexOf("?")<0?"?":"&")+Date.now()),i.headers||(i.headers={}),i.contentType&&!i.headers["Content-Type"]&&(i.headers["Content-Type"]=i.contentType),i.headers["X-Requested-With"]||(i.headers["X-Requested-With"]="XMLHttpRequest"),new Promise(function(t,n){var r=new XMLHttpRequest;r.open(i.method,i.url,!0),Object.keys(i.headers).forEach(function(t){return r.setRequestHeader(t,i.headers[t])}),i.responseType&&(r.responseType=i.responseType),r.onload=function(e){r.status>400?n(r.status,r,e):t(r.response,r,e)},r.onerror=function(t){n(r.status,r,t)},i.uploadProgress&&(r.upload.onprogress=function(t){i.uploadProgress(t.loaded/t.total,r,t)}),i.beforeSend&&i.beforeSend(r),i.data&&i.processData&&("application/json"==i.contentType?i.data=JSON.stringify(i.data):i.data=e._parseParams(i.data)),r.send(i.data)})},upload:function(t,n){return e.isObject(t)?n=t:n.url=t,n.method||(n.method="POST"),n.data&&(n.data=e._parseFormData(n.data),n.processData=!1,n.contentType=!1),this.ajax(n)},loadScript:function(e,n){return this.ajax(e,{cache:n}).then(function(e){return eval.apply(t,e)})},loadScripts:function(e,n){var r=this;return Promise.all(e.map(function(t){return r.ajax(t,{cache:n})})).then(function(e){return e.forEach(function(e){return eval.apply(t,e)})})},loadStyle:function(t,e){var n=this;return this.ajax(t,{cache:e}).then(function(t){return n.append(n.findOne("head"),n.create("style",t))})},loadStyles:function(t,e){var n=this,r=this.findOne("head");return Promise.all(t.map(function(t){return n.ajax(t,{cache:e})})).then(function(t){return t.forEach(function(t){return n.append(r,n.create("style",t))})})}}),Object.assign(e.prototype,{getCookie:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=decodeURIComponent(this.context.cookie).split(";").find(function(e){return e.trimStart().substring(0,t.length)===t});if(!n)return null;var r=n.trimStart().substring(t.length+1);return e?JSON.parse(r):r},removeCookie:function(t,e){this.setCookie(t,"",_objectSpread({expires:-1},e))},setCookie:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){r&&(e=JSON.stringify(e));var i=t+"="+e;if(n){if(n.expires){var o=new Date;o.setTime(o.getTime()+1e3*n.expires),i+=";expires="+o.toUTCString()}n.path&&(i+=";path="+n.path),n.secure&&(i+=";secure")}this.context.cookie=i}}}),Object.assign(e.prototype,{animationEventFactory:function(e){var n=!1;return function(r){n||(n=!0,t.requestAnimationFrame(function(){e(r),n=!1}))}},mouseDragFactory:function(e,n,r){var i=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n&&o&&(n=this.animationEventFactory(n)),function(o){e&&!1===e(o)||(n&&i.addEvent(t,"mousemove",n),i.addEventOnce(t,"mouseup",function(e){t.requestAnimationFrame(function(){n&&i.removeEvent(t,"mousemove",n),r&&r(e)})}))}},_delegateFactory:function(t,n,r){var i=e.isSelectorComplex(n)?this._getDelegateContainsFactory(t,n):this._getDelegateMatchFactory(t,n);return function(e){if(!e.target.isSameNode(t)){var n=i(e.target);if(n)return e.delegateTarget=n,r(e)}}},_getDelegateContainsFactory:function(t,e){var n=this;return function(r){var i=n.find(t,e);return!!i.length&&(i.includes(r)?r:n.closest(r,function(t){return i.contains(t)},t))}},_getDelegateMatchFactory:function(t,e){var n=this;return function(r){return r.matches(e)?r:n.closest(r,function(t){return t.matches(e)},t)}},_selfDestructFactory:function(t,e,n){var r=this;return function i(o){return r.removeEvent(t,e,i),n(o)}}}),Object.assign(e.prototype,{_parseFilter:function(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return e.matches(t)}:e.isNode(t)?function(e){return e.isSameNode(t)}:!!(t=this.nodeArray(t)).length&&function(e){return t.includes(e)})},_parseFilterContains:function(t){var n=this;return!!t&&(e.isFunction(t)?t:e.isString(t)?function(e){return!!n.findOne(e,t)}:e.isNode(t)?function(e){return e.contains(t)}:!!(t=this.nodeArray(t)).length&&function(e){return!!t.find(function(t){return e.contains(t)})})}}),Object.assign(e.prototype,{nodeArray:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.isString(t)?this.find(t):e.makeArray(t).filter(e._nodeFilterFactory(n,r,i))},nodeFirst:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.isString(t)?this.findOne(t):e.makeArray(t).find(e._nodeFilterFactory(n,r,i))},sortNodes:function(t){return this.nodeArray(t,!1).sort(function(t,e){if(t.isSameNode(e))return 0;var n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0})}}),Object.assign(e.prototype,{parseHTML:function(t){var e=this.context.createRange().createContextualFragment(t);return Array.from(e.children)},_parseQuery:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t&&e.isString(t)&&t.match(e.htmlRegex)?this.parseHTML(t):this.nodeArray(t||"*",n,r,i)}}),e.fastRegex=/^\s*([\#\.]?)([\w\-]+)\s*$/,e.specialRegex=/^\s*([\>\+\~])(.*)$/,e.subRegex=/^\s*((?:[\w\#\.\:\-]|(?:\[(?:[^\[\]]*|\[[^\[\]]*\])*\]))*)\s*(.*)$/,e.splitRegex=/\s*((?:[\w\#\.\:\-]|\[(?:[^\[\]]*|\[[^\[\]]*\])*\]|[\s\>\~\+])+)\s*\,?/,e.htmlRegex=/^\s*\</,e.cssNumberProperties=["font-weight","line-height","opacity","orphans","widows","z-index"],e.ajaxDefaults={beforeSend:!1,cache:!1,contentType:"application/x-www-form-urlencoded",data:!1,dataType:!1,method:"GET",processData:!0,url:!1};var n=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;_classCallCheck(this,t),this.core=n,this.nodes=this.core._parseQuery(e,!0,!0,!0),this.stack=[]}return _createClass(t,[{key:"delay",value:function(t){return this.queue(function(){return new Promise(function(e){return setTimeout(e,t)})})}},{key:"each",value:function(t){return this.nodes.forEach(t),this}},{key:"eq",value:function(t){return this.pushStack(this.get(t))}},{key:"filter",value:function(t){return this.pushStack(this.nodes.filter(t))}},{key:"first",value:function(){return this.eq(0)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!1===t?this.nodes:t<0?this.nodes[t+this.nodes.length]:this.nodes[t]}},{key:"last",value:function(){return this.eq(-1)}},{key:"map",value:function(t){return this.nodes.map(t),this}},{key:"popStack",value:function(){return this.nodes=this.stack.pop()||[],this}},{key:"pushStack",value:function(t){return this.stack.push(this.nodes.slice()),this.nodes=t,this}},{key:"slice",value:function(){var t;return this.pushStack((t=this.nodes).slice.apply(t,arguments))}}]),t}(),r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,n),_createClass(e,[{key:"pushStack",value:function(t){return new e(t)}}]),e}();return Object.assign(n.prototype,{animate:function(t,e){var n=this;return this.queue(function(r){return n.core.animate(r,t,e)})},stop:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.core.stop(this.nodes,t),this.clearQueue()}}),Object.assign(n.prototype,{dropIn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return this.queue(function(n){return t.core.dropIn(n,e)})},dropOut:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return this.queue(function(n){return t.core.dropOut(n,e)})},fadeIn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return this.queue(function(n){return t.core.fadeIn(n,e)})},fadeOut:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return this.queue(function(n){return t.core.fadeOut(n,e)})},rotateIn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return this.queue(function(o){return t.core.rotateIn(o,e,n,r,i)})},rotateOut:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return this.queue(function(o){return t.core.rotateOut(o,e,n,r,i)})},slideIn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.queue(function(r){return t.core.slideIn(r,e,n)})},slideOut:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.queue(function(r){return t.core.slideOut(r,e,n)})},squeezeIn:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.queue(function(r){return t.core.squeezeIn(r,e,n)})},squeezeOut:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.queue(function(r){return t.core.squeezeOut(r,e,n)})}}),Object.assign(n.prototype,{clearQueue:function(){return this.core.clearQueue(this.nodes),this},queue:function(t){return this.core.queue(this.nodes,t),this}}),Object.assign(n.prototype,{getAttribute:function(t){return this.core.getAttribute(this.nodes,t)},getDataset:function(t){return this.core.getDataset(this.nodes,t)},getHTML:function(){return this.core.getHTML(this.nodes)},getProperty:function(t){return this.core.getProperty(this.nodes,t)},getText:function(){return this.core.getText(this.nodes)},getValue:function(){return this.core.getValue(this.nodes)},removeAttribute:function(t){return this.core.removeAttribute(this.nodes,t),this},removeProperty:function(t){return this.core.removeProperty(this.nodes,t),this},setAttribute:function(t,e){return this.core.setAttribute(this.nodes,t,e),this},setDataset:function(t,e){return this.core.setDataset(this.nodes,t,e),this},setHTML:function(t){return this.core.setHTML(this.nodes,t),this},setProperty:function(t,e){return this.core.setProperty(this.nodes,t,e),this},setText:function(t){return this.core.setText(this.nodes,t),this},setValue:function(t){return this.core.setValue(this.nodes,t),this}}),Object.assign(n.prototype,{getData:function(t){return this.core.getData(this.nodes,t)},removeData:function(t){return this.core.removeData(this.nodes,t),this},setData:function(t,e){return this.core.setData(this.nodes,t,e),this}}),Object.assign(n.prototype,{center:function(t){return this.core.center(this.nodes,t)},constrain:function(t){return this.core.constrain(this.nodes,t)},distTo:function(t,e){return this.core.distTo(this.nodes,t,e)},distToNode:function(t){return this.core.distToNode(this.nodes,t)},nearestTo:function(t,e){return this.core.nearestTo(this.nodes,t,e)},nearestToNode:function(t){return this.core.nearestToNode(this.nodes,t)},percentX:function(t){return this.core.percentX(this.nodes,t)},percentY:function(t){return this.core.percentY(this.nodes,t)},position:function(t){return this.core.position(this.nodes,t)},rect:function(t){return this.core.rect(this.nodes,t)}}),Object.assign(n.prototype,{scrollTo:function(t,e){return this.core.scrollTo(this.nodes,t,e),this},scrollToX:function(t){return this.core.scrollToX(this.nodes,t),this},scrollToY:function(t){return this.core.scrollToY(this.nodes,t),this},scrollX:function(){return this.core.scrollX(this.nodes)},scrollY:function(){return this.core.scrollY(this.nodes)}}),Object.assign(n.prototype,{height:function(t,e,n){return this.core.height(this.nodes,t,e,n)},width:function(t,e,n){return this.core.width(this.nodes,t,e,n)}}),Object.assign(n.prototype,{addClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.core).addClass.apply(t,[this.nodes].concat(n)),this},css:function(t){return this.core.css(this.nodes,t)},getStyle:function(t){return this.core.getStyle(this.nodes,t)},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>0?this.fadeOut(e).queue(function(e){return t.core.hide(e)}):(this.core.hide(this.nodes),this)},removeClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.core).removeClass.apply(t,[this.nodes].concat(n)),this},setStyle:function(t,e){return this.core.setStyle(this.nodes,t,e),this},show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>0?this.queue(function(n){t.core.show(nodes),t.core.fadeIn(n,e)}):(this.core.show(this.nodes),this)},toggle:function(){return this.core.toggle(this.nodes),this},toggleClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.core).toggleClass.apply(t,[this.nodes].concat(n)),this}}),Object.assign(n.prototype,{addEvent:function(t,e,n){return this.core.addEvent(this.nodes,t,e,n),this},addEventOnce:function(t,e,n){return this.core.addEvent(this.nodes,t,e,n,!0),this},blur:function(){return this.core.blur(this.nodes),this},click:function(){return this.core.click(this.nodes),this},cloneEvents:function(t){return this.core.cloneEvents(this.nodes,t),this},focus:function(){return this.core.focus(this.nodes),this},removeEvent:function(t,e,n){return this.core.removeEvent(this.nodes,t,e,n),this},triggerEvent:function(t,e){return this.core.triggerEvent(this.nodes,t,e),this}}),Object.assign(n.prototype,{after:function(t){return this.core.after(this.nodes,t),this},append:function(t){return this.core.append(this.nodes,t),this},appendTo:function(t){return this.core.appendTo(this.nodes,t),this},before:function(t){return this.core.before(this.nodes,t),this},clone:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.pushStack(this.core.clone(this.nodes,t,e))},detach:function(){return this.core.detach(this.nodes),this},empty:function(){return this.core.empty(this.nodes),this},insertAfter:function(t){return this.core.insertAfter(this.nodes,t),this},insertBefore:function(t){return this.core.insertBefore(this.nodes,t),this},prepend:function(t){return this.core.prepend(this.nodes,t),this},prependTo:function(t){return this.core.prependTo(this.nodes,t),this},remove:function(){return this.core.remove(this.nodes),this},replaceAll:function(t){return this.core.replaceAll(this.nodes,t),this},replaceWith:function(t){return this.core.replaceWith(this.nodes,t),this},unwrap:function(t){return this.core.unwrap(this.nodes,t),this},wrap:function(t){return this.core.wrap(this.nodes,t),this},wrapAll:function(t){return this.core.wrapAll(this.nodes,t),this},wrapInner:function(t){return this.core.wrapInner(this.nodes,t),this}}),Object.assign(n.prototype,{contains:function(t){return this.core.contains(this.nodes,t)},hasAttribute:function(t){return this.core.hasAttribute(this.nodes,t)},hasClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.core).hasClass.apply(t,[this.nodes].concat(n))},hasData:function(t){return this.core.hasData(this.nodes,t)},hasProperty:function(t){return this.core.hasProperty(this.nodes,t)},isFixed:function(){return this.core.isFixed(this.nodes)},isHidden:function(){return this.core.isHidden(this.nodes)},isVisible:function(){return this.core.isVisible(this.nodes)}}),Object.assign(n.prototype,{filter:function(t){return this.pushStack(this.core.filter(this.nodes,t))},filterOne:function(t){return this.pushStack(this.core.filterOne(this.nodes,t))},has:function(t){return this.pushStack(this.core.has(this.nodes,t))},hidden:function(){return this.pushStack(this.core.hidden(this.nodes))},not:function(t){return this.pushStack(this.core.not(this.nodes,t))},visible:function(){return this.pushStack(this.core.visible(this.nodes))}}),Object.assign(n.prototype,{find:function(t){return this.pushStack(this.core.find(this.nodes,t))},findByClass:function(t){return this.pushStack(this.core.findByClass(this.nodes,t))},findById:function(t){return this.pushStack(this.core.findById(this.nodes,t))},findByTag:function(t){return this.pushStack(this.core.findByTag(this.nodes,t))},findOne:function(t){return this.pushStack(this.core.findOne(this.nodes,t))},findOneByClass:function(t){return this.pushStack(this.core.findOneByClass(this.nodes,t))},findOneById:function(t){return this.pushStack(this.core.findOneById(this.nodes,t))},findOneByTag:function(t){return this.pushStack(this.core.findOneByTag(this.nodes,t))}}),Object.assign(n.prototype,{closest:function(t,e){return this.pushStack(this.core.closest(this.nodes,t,e))},child:function(t){return this.pushStack(this.core.child(this.nodes,t))},children:function(t){return this.pushStack(this.core.children(this.nodes,t))},contents:function(){return this.pushStack(this.core.contents(this.nodes))},next:function(t){return this.pushStack(this.core.next(this.nodes,t))},nextAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.pushStack(this.core.nextAll(this.nodes,t,e,n))},offsetParent:function(){return this.pushStack(this.core.offsetParent(this.nodes))},parent:function(t){return this.pushStack(this.core.parent(this.nodes,t))},parents:function(t,e){return this.pushStack(this.core.parents(this.nodes,t,e))},prev:function(t){return this.pushStack(this.core.prev(this.nodes,t))},prevAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.pushStack(this.core.prevAll(this.nodes,t,e,n))},siblings:function(t){return this.pushStack(this.core.siblings(this.nodes,t))}}),Object.assign(n.prototype,{forceShow:function(t){return this.core.forceShow(this.nodes,t)},index:function(t){return this.core.index(this.nodes,t)},indexOf:function(){return this.core.indexOf(this.nodes)},select:function(){return this.core.select(this.nodes),this},selectAll:function(){return this.core.selectAll(this.nodes),this},serialize:function(){return this.core.serialize(this.nodes)},serializeArray:function(){return this.core.serializeArray(this.nodes)},serializeObject:function(){return this.core.serializeObject(this.nodes)}}),{Core:e,core:new e,QuerySet:n,QuerySetImmutable:r}});